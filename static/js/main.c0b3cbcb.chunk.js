(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(35)},35:function(e,t,a){"use strict";a.r(t);a(22),a(24);var n,r,l,c,i,s,o,u,m,d,E,b,p,f,h,N=a(0),v=a.n(N),y=a(18),w=a(1),C=a(9),T=a(4),x="ADD_PERSON",g="UPDATE_PERSON_BORROWER",O="DELETE_PERSON",D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(T.a)(e).concat([t.payload]);case O:return Object(T.a)(e.filter(function(e){return e.id!==t.id}));case g:return e.map(function(e){return e.id===t.personBorrower.id?Object.assign({},e,{isBorrower:t.personBorrower.isBorrower}):e});default:return e}},I="ADD_DEBT",k="DELETE_DEBT",L="UPDATE_IS_CONSOLIDATED",P="UPDATE_IS_NEW_DEBT",R="UPDATE_CLIENT",B={AUTO:"Auto",HOME:"Home",INVESTMENT_PROPERTY:"Investment Property",INVESTMENT:"Investment",UNSECURED:"Unsecured",OTHER:"Other"},A=function(e){switch(e){case B.AUTO:return 125;case B.HOME:case B.OTHER:return 100;case B.INVESTMENT_PROPERTY:return 75;case B.INVESTMENT:return 50;default:return 0}},S=function(e){return+e>=0},M=function(e){switch(e){case B.HOME:case B.AUTO:case B.INVESTMENT:case B.INVESTMENT_PROPERTY:case B.UNSECURED:case B.OTHER:return!0;default:return!1}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return t.debtClient.isClient?Object(T.a)(e.filter(function(e){return e!==t.debtClient.personId})).concat([t.debtClient.personId]):e.filter(function(e){return e!==t.debtClient.personId});case O:return e.filter(function(e){return e!==t.id});default:return e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(T.a)(e).concat([t.debt]);case k:return Object(T.a)(e.filter(function(e){return e.id!==t.id}));case L:return e.map(function(e){return e.id===t.debtConsolidated.id?Object.assign({},e,{isConsolidated:t.debtConsolidated.isConsolidated}):e});case P:return e.map(function(e){return e.id===t.debtIsNew.id?Object.assign({},e,{isNewDebt:t.debtIsNew.isNewDebt}):e});case R:return e.map(function(e){return e.id===t.debtClient.debtId?Object.assign({},e,{clients:j(e.clients,t)}):e});case O:return e.map(function(e){return Object.assign({},e,{clients:j(e.clients,t)})});default:return e}},V=Object(C.b)({personList:D,debtList:q}),U=function(e){var t=e.state;return v.a.createElement("div",{className:"row mb-3"},v.a.createElement("div",{className:"col-auto"},v.a.createElement("button",{className:"btn btn-outline-warning",onClick:function(){return console.log(t)}},"Log Redux State")))},_=Object(w.b)(function(e){return{state:e}},function(e){return{}})(U),F=0,H=function(e){return e.id=F++,{type:x,payload:e}},$=function(e){var t=e.onAddPerson;return v.a.createElement("div",null,v.a.createElement("form",{ref:function(e){return c=e},onSubmit:function(e){e.preventDefault(),n.value.trim()&&+r.value.trim()&&(t({name:n.value,annualIncome:+r.value,isBorrower:l.checked}),n.value="",c.reset(),n.focus())}},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col"},v.a.createElement("label",{htmlFor:"name"},"Name"),v.a.createElement("input",{id:"name",className:"form-control",autoComplete:"off",required:!0,ref:function(e){return n=e}})),v.a.createElement("div",{className:"col"},v.a.createElement("label",{htmlFor:"annualIncome"},"Annual Income"),v.a.createElement("input",{id:"annualIncome",className:"form-control",autoComplete:"off",required:!0,min:1,ref:function(e){return r=e},type:"number"}))),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col"},v.a.createElement("input",{id:"isBorrower",ref:function(e){return l=e},defaultChecked:!0,type:"checkbox"}),v.a.createElement("label",{htmlFor:"isBorrower",className:"pl-2"},"Is Borrower"))),v.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Add Person")))},J=Object(w.b)(function(e){return{}},function(e){return{onAddPerson:function(t){return e(H(t))}}})($),Y=a(3),W=a.n(Y),z=function(e){var t=e.id,a=e.isBorrower,n=e.updatePersonBorrower;return v.a.createElement("div",null,v.a.createElement("input",{type:"checkbox",id:"isBorrowerCheck"+t,defaultChecked:a,onChange:function(e){n({id:t,isBorrower:e.target.checked})}}))},G=function(e){var t=e.person,a=e.onDelete,n=e.updatePersonBorrower;return v.a.createElement("tr",null,v.a.createElement("td",{className:"text-left"},t.name),v.a.createElement("td",{className:"text-right"},v.a.createElement(W.a,{value:t.annualIncome,displayType:"text",thousandSeparator:!0,prefix:"$"})),v.a.createElement("td",{className:"text-center"},v.a.createElement(z,{isBorrower:t.isBorrower,id:t.id,updatePersonBorrower:n})),v.a.createElement("td",{className:"text-center"},v.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:a},"Delete")))},K=function(e){var t=e.personList,a=e.deletePerson,n=e.updatePersonBorrower;return v.a.createElement("table",{className:"table table-hover"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",{className:"text-left"},"Name"),v.a.createElement("th",{className:"text-right"},"Annual Income"),v.a.createElement("th",{className:"text-center"},"Is Borrower"),v.a.createElement("th",{className:"text-center"},"Remove"))),v.a.createElement("tbody",null,t.map(function(e){return v.a.createElement(G,{key:e.id,person:e,onDelete:function(){return a(e.id)},updatePersonBorrower:n})})))},Q=Object(w.b)(function(e){return{personList:e.personList}},function(e,t){return{deletePerson:function(t){return e(function(e){return{type:O,id:e}}(t))},updatePersonBorrower:function(t){return e(function(e){return{type:g,personBorrower:e}}(t))}}})(K),X=0,Z=function(e){return e.id=X++,{type:I,debt:e}};h=[],o={},s={value:B.AUTO};var ee=function(e,t){e.preventDefault();var a={debtType:s.value,lendableEquity:+o.value.trim(),totalValue:+u.value.trim(),amountOwed:+m.value.trim(),monthlyPayment:+d.value.trim(),remainingTermMonths:+E.value.trim(),interestRate:+b.value.trim(),isConsolidated:p.checked,isNewDebt:f.checked,clients:h.filter(function(e){return e.node.checked}).map(function(e){return e.id})};(function(e){return!!(M(e.debtType)&&S(e.lendableEquity)&&S(e.totalValue)&&S(e.amountOwed)&&S(e.monthlyPayment)&&S(e.remainingTermMonths)&&S(e.interestRate))})(a)&&(t(a),i.reset(),s.value=B.AUTO,s.focus())},te=function(e){var t=e.personList,a=e.addDebt;return v.a.createElement("form",{ref:function(e){return i=e},onSubmit:function(e){return ee(e,a)}},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col"},v.a.createElement("label",{htmlFor:"type"},"Type"),v.a.createElement("select",{id:"type",className:"form-control",ref:function(e){return s=e},onChange:function(e){o.value=A(s.value)}},Object.keys(B).map(function(e){return v.a.createElement("option",{key:B[e],value:B[e]},B[e])}))),v.a.createElement("div",{className:"col"},v.a.createElement("label",{htmlFor:"lendableEquity",className:"text-nowrap"},"Lendable Equity"),v.a.createElement("input",{id:"lendableEquity",defaultValue:A(s.value),type:"number",className:"form-control",min:0,step:.01,ref:function(e){return o=e},required:!0})),v.a.createElement("div",{className:"col"},v.a.createElement("label",{htmlFor:"totalValue",className:"text-nowrap"},"Total Value"),v.a.createElement("input",{id:"totalValue",type:"number",className:"form-control",min:0,step:.01,ref:function(e){return u=e},required:!0})),v.a.createElement("div",{className:"col"},v.a.createElement("label",{htmlFor:"amountOwed",className:"text-nowrap"},"Amount Owed"),v.a.createElement("input",{id:"amountOwed",type:"number",className:"form-control",min:0,step:.01,ref:function(e){return m=e},required:!0})),v.a.createElement("div",{className:"col"},v.a.createElement("label",{htmlFor:"monthlyPayment",className:"text-nowrap"},"Monthly Payment"),v.a.createElement("input",{id:"monthlyPayment",type:"number",className:"form-control",min:0,step:.01,ref:function(e){return d=e},required:!0})),v.a.createElement("div",{className:"col"},v.a.createElement("label",{htmlFor:"remainingTermMonths",className:"text-nowrap"},"Remaining Term ",v.a.createElement("small",null,"(Months)")),v.a.createElement("input",{id:"remainingTermMonths",type:"number",className:"form-control",min:0,step:.01,ref:function(e){return E=e},required:!0})),v.a.createElement("div",{className:"col"},v.a.createElement("label",{htmlFor:"interestRate",className:"text-nowrap"},"Interest Rate"),v.a.createElement("input",{id:"interestRate",type:"number",className:"form-control",min:0,step:.01,ref:function(e){return b=e},required:!0}))),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-auto"},v.a.createElement("input",{id:"isConsolidated",defaultChecked:!1,type:"checkbox",ref:function(e){return p=e}}),v.a.createElement("label",{htmlFor:"isConsolidated",className:"pl-2"},"Consolidated")),v.a.createElement("div",{className:"col-auto"},v.a.createElement("input",{id:"isNewDebt",defaultChecked:!1,type:"checkbox",ref:function(e){return f=e}}),v.a.createElement("label",{htmlFor:"isNewDebt",className:"pl-2"},"New Debt"))),v.a.createElement("fieldset",null,v.a.createElement("legend",null,"Clients"),v.a.createElement("div",{className:"row"},t.map(function(e){return v.a.createElement("div",{key:e.id,className:"col-auto"},v.a.createElement("input",{id:"isClient"+e.id,defaultChecked:!1,type:"checkbox",ref:function(t){return h[e.id]={node:t,id:e.id}}}),v.a.createElement("label",{htmlFor:"isClient"+e.id,className:"pl-2"},e.name))}))),v.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Add Debt"))},ae=Object(w.b)(function(e){return{personList:e.personList}},function(e){return{addDebt:function(t){return e(Z(t))}}})(te),ne=a(10),re=function(e){var t=e.id,a=e.isConsolidated,n=e.updateIsConsolidated;return v.a.createElement("div",null,v.a.createElement("input",{type:"checkbox",id:"isConsolidated"+t,defaultChecked:a,onChange:function(e){n({id:t,isConsolidated:e.target.checked})}}))},le=function(e){var t=e.id,a=e.isNewDebt,n=e.updateIsNewDebt;return v.a.createElement("div",null,v.a.createElement("input",{type:"checkbox",id:"isNewDebt"+t,defaultChecked:a,onChange:function(e){n({id:t,isNewDebt:e.target.checked})}}))},ce=function(e){var t=e.debt,a=e.person,n=e.updateClient;return v.a.createElement("div",null,v.a.createElement("input",{type:"checkbox",id:"clientDebt"+t.id+"person"+a.id,defaultChecked:t.clients.indexOf(a.id)>=0,onChange:function(e){n({debtId:t.id,personId:a.id,isClient:e.target.checked})}}),v.a.createElement("label",{className:"pl-1",htmlFor:"clientDebt"+t.id+"person"+a.id},a.name))},ie=function(e){var t=e.debt,a=e.personList,n=e.onDelete,r=e.updateIsConsolidated,l=e.updateIsNewDebt,c=e.updateClient;return v.a.createElement("tr",null,v.a.createElement("td",{className:"text-left"},t.debtType),v.a.createElement("td",{className:"text-right"},t.lendableEquity,"%"),v.a.createElement("td",{className:"text-right"},v.a.createElement(W.a,{value:t.totalValue,displayType:"text",thousandSeparator:!0,prefix:"$"})),v.a.createElement("td",{className:"text-right"},v.a.createElement(W.a,{value:t.amountOwed,displayType:"text",thousandSeparator:!0,prefix:"$"})),v.a.createElement("td",{className:"text-right"},v.a.createElement(W.a,{value:t.monthlyPayment,displayType:"text",thousandSeparator:!0,prefix:"$"})),v.a.createElement("td",{className:"text-right"},t.remainingTermMonths),v.a.createElement("td",{className:"text-right"},t.interestRate,"%"),v.a.createElement("td",{className:"text-center"},v.a.createElement(re,{id:t.id,isConsolidated:t.isConsolidated,updateIsConsolidated:r})),v.a.createElement("td",{className:"text-center"},v.a.createElement(le,{id:t.id,isNewDebt:t.isNewDebt,updateIsNewDebt:l})),v.a.createElement("td",null,a.map(function(e){return v.a.createElement("div",{key:t.id+"=>"+e.id,className:"text-nowrap"},v.a.createElement(ce,{debt:t,person:e,updateClient:c}))})),v.a.createElement("td",{className:"text-center"},v.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:n},"Delete")))},se=function(e){var t=e.debtList,a=e.personList,n=e.deleteDebt,r=e.updateIsConsolidated,l=e.updateIsNewDebt,c=e.updateClient;return v.a.createElement("table",{className:"table table-hover"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",{className:"text-left"},"Type"),v.a.createElement("th",{className:"text-right"},"Lendable Equity"),v.a.createElement("th",{className:"text-right"},"Total Value"),v.a.createElement("th",{className:"text-right"},"Amount Owed"),v.a.createElement("th",{className:"text-right"},"Monthly Payment"),v.a.createElement("th",{className:"text-right"},"Remaining Term ",v.a.createElement("small",null,"(Months)")),v.a.createElement("th",{className:"text-right"},"Interest Rate"),v.a.createElement("th",null,"Consolidated"),v.a.createElement("th",null,"New Debt"),v.a.createElement("th",null,"Clients"),v.a.createElement("th",{className:"text-center"},"Action"))),v.a.createElement("tbody",null,t.map(function(e){return v.a.createElement(ie,{key:e.id,debt:e,personList:a,onDelete:function(){return n(e.id)},updateIsConsolidated:r,updateIsNewDebt:l,updateClient:c})})))},oe=Object(ne.a)(function(e){return{debtList:e.debtList,personList:e.personList}},function(e){return{deleteDebt:function(t){return e(function(e){return{type:k,id:e}}(t))},updateIsConsolidated:function(t){return e(function(e){return{type:L,debtConsolidated:e}}(t))},updateIsNewDebt:function(t){return e(function(e){return{type:P,debtIsNew:e}}(t))},updateClient:function(t){return e(function(e){return{type:R,debtClient:e}}(t))}}})(se),ue=function(e){e.personList;var t=e.debtList;return v.a.createElement("div",null,v.a.createElement("div",{class:"row"},v.a.createElement("dl",{class:"col-auto"},v.a.createElement("dt",null,"Total Assets"),v.a.createElement("dd",{className:"text-right mb-3"},v.a.createElement(W.a,{value:function(e){return e.reduce(function(e,t){return e+t.totalValue},0)}(t),displayType:"text",thousandSeparator:!0,prefix:"$"})),v.a.createElement("dt",null,"Total Liabilities"),v.a.createElement("dd",{className:"text-right mb-3"},v.a.createElement(W.a,{value:function(e){return e.reduce(function(e,t){return e+t.amountOwed},0)}(t),displayType:"text",thousandSeparator:!0,prefix:"$"})),v.a.createElement("dt",null,"Lendable Equity"),v.a.createElement("dd",{className:"text-right mb-3"},v.a.createElement(W.a,{value:function(e){return e.reduce(function(e,t){return e+.01*t.lendableEquity*t.totalValue},0)}(t),displayType:"text",thousandSeparator:!0,prefix:"$"})),v.a.createElement("dt",null,"Expected Intrest"),v.a.createElement("dd",{className:"text-right mb-3"},v.a.createElement(W.a,{value:function(e){return e.reduce(function(e,t){return e+t.monthlyPayment*t.remainingTermMonths-t.amountOwed},0)}(t),displayType:"text",thousandSeparator:!0,prefix:"$"})))))},me=Object(w.b)(function(e){return{personList:e.personList,debtList:e.debtList}},function(e){return{}})(ue),de=function(e){var t=e.personList,a=e.debtList;return v.a.createElement("div",null,v.a.createElement("nav",null,v.a.createElement("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist"},v.a.createElement("a",{className:"nav-item nav-link active",id:"nav-person-tab","data-toggle":"tab",href:"#nav-person-list",role:"tab","aria-controls":"nav-person-list","aria-selected":"true"},"Clients"),v.a.createElement("a",{className:"nav-item nav-link",id:"nav-debt-tab","data-toggle":"tab",href:"#nav-debt-list",role:"tab","aria-controls":"nav-debt-list","aria-selected":"false"},"Debts"),v.a.createElement("a",{className:"nav-item nav-link "+function(e,t){return e.length>0&&t.length>0?"":"disabled"}(t,a),id:"nav-result-tab","data-toggle":"tab",href:"#nav-result-list",role:"tab","aria-controls":"nav-result-list","aria-selected":"false"},"Results"))),v.a.createElement("div",{className:"tab-content",id:"nav-tabContent"},v.a.createElement("div",{className:"tab-pane fade show active",id:"nav-person-list",role:"tabpanel","aria-labelledby":"nav-home-tab"},v.a.createElement("h2",null,"Clients"),v.a.createElement(J,null),v.a.createElement("div",{className:"mt-3"},v.a.createElement(Q,null))),v.a.createElement("div",{className:"tab-pane fade",id:"nav-debt-list",role:"tabpanel","aria-labelledby":"nav-profile-tab"},v.a.createElement("h2",null,"Debts"),v.a.createElement(ae,null),v.a.createElement("div",{className:"mt-3"},v.a.createElement(oe,null))),v.a.createElement("div",{className:"tab-pane fade",id:"nav-result-list",role:"tabpanel","aria-labelledby":"nav-contact-tab"},v.a.createElement("h2",null,"Results"),v.a.createElement("div",{className:"mt-3"},v.a.createElement(me,null)))))},Ee=Object(w.b)(function(e){return{personList:e.personList,debtList:e.debtList}},function(e){return{}})(de),be=function(){return v.a.createElement("div",{className:"container"},v.a.createElement("h1",null,"Re-fi Calculator"),v.a.createElement(Ee,null),v.a.createElement(_,null))},pe=function(e){e.dispatch(H({name:"Jack Johnson",annualIncome:88e3,isBorrower:!0})),e.dispatch(H({name:"Jill Johnson",annualIncome:98e3,isBorrower:!0})),e.dispatch(H({name:"Tom Jones",annualIncome:103e3,isBorrower:!1})),e.dispatch(Z({debtType:B.HOME,lendableEquity:A(B.HOME),totalValue:1e5,amountOwed:8e4,monthlyPayment:400,interestRate:5,remainingTermMonths:300,isConsolidated:!1,isNewDebt:!0,clients:[0,1]})),e.dispatch(Z({debtType:B.AUTO,lendableEquity:A(B.AUTO),totalValue:35e3,amountOwed:1e4,monthlyPayment:200,interestRate:6,remainingTermMonths:30,isConsolidated:!0,isNewDebt:!1,clients:[1]}))},fe=Object(C.c)(V);pe(fe),Object(y.render)(v.a.createElement(w.a,{store:fe},v.a.createElement(be,null)),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.c0b3cbcb.chunk.js.map
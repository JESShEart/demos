{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/minesweeper/minesweeper-component.css?5f00","webpack:///./components/minesweeper/square/square-component.css?cad0","webpack:///./components/stats/stats-component.css?a185","webpack:///external \"preact\"","webpack:///./components/header/header-component.css?662b","webpack:///./components/minesweeper/minesweeper-route-props.ts","webpack:///./components/stats/stats-route-props.ts","webpack:///./components/header/header-component.tsx","webpack:///../src/index.js","webpack:///./minesweeper/game-reducer.ts","webpack:///./minesweeper/functions/get-adjacent-squares.ts","webpack:///./minesweeper/functions/create-board.ts","webpack:///./minesweeper/functions/reset-game.ts","webpack:///./minesweeper/types/difficulty.ts","webpack:///./stats/stats-reducer.ts","webpack:///./minesweeper/functions/reveal-mines.ts","webpack:///./minesweeper/functions/reveal.ts","webpack:///./minesweeper/functions/create-game.ts","webpack:///./minesweeper/functions/get-status.ts","webpack:///./stats/functions/save-stats.ts","webpack:///./stats/functions/log-result.ts","webpack:///./stats/actions/log-result-action.ts","webpack:///./minesweeper/functions/toggle-flagged-square.ts","webpack:///./components/minesweeper/square/hidden-square-component.tsx","webpack:///./minesweeper/actions/reveal-action.ts","webpack:///./minesweeper/actions/toggle-flagged-square-action.ts","webpack:///./components/minesweeper/square/revealed-square-component.tsx","webpack:///./components/minesweeper/square/square-component.tsx","webpack:///./components/minesweeper/board/board-component.tsx","webpack:///./components/minesweeper/reset/reset-component.tsx","webpack:///./minesweeper/actions/reset-action.ts","webpack:///./components/minesweeper/status/status-component.tsx","webpack:///./minesweeper/functions/to-hours-minutes-seconds.ts","webpack:///./components/minesweeper/timer/timer-component.tsx","webpack:///./minesweeper/functions/toggle-flagging.ts","webpack:///./components/minesweeper/flagging-toggle/flagging-toggle-component.tsx","webpack:///./minesweeper/actions/toggle-flagging-action.ts","webpack:///./components/minesweeper/minesweeper-component.tsx","webpack:///./components/stats/stat-line/stat-line-component.tsx","webpack:///./stats/functions/get-relevant-results.ts","webpack:///./stats/functions/get-win-rate.ts","webpack:///./stats/functions/get-total-time.ts","webpack:///./stats/functions/get-winning-times.ts","webpack:///./stats/functions/get-difficulty-summary.ts","webpack:///./components/stats/summary/difficulty-summary-component.tsx","webpack:///./stats/functions/get-total-summary.ts","webpack:///./components/stats/summary/total-summary-component.tsx","webpack:///./stats/functions/today-only.ts","webpack:///./stats/actions/today-only-action.ts","webpack:///./components/stats/stats-component.tsx","webpack:///./index.js","webpack:///./components/app-component.tsx","webpack:///./stats/functions/load-stats.ts","webpack:///./components/minesweeper/flagging-toggle/flagging-toggle-component.css?95a8","webpack:///./components/stats/summary/summary-component.css?f03b","webpack:///../src/util.js","webpack:///./components/minesweeper/status/status-component.css?5c2d","webpack:///./components/minesweeper/timer/timer-component.css?adec","webpack:///./components/minesweeper/square/hidden-square-component.css?f36d","webpack:///./components/minesweeper/square/revealed-square-component.css?1172","webpack:///./components/minesweeper/board/board-component.css?f333","webpack:///../node_modules/preact-router/match.js","webpack:///./components/minesweeper/reset/reset-component.css?30a5","webpack:///./components/stats/stat-line/stat-line-component.css?150a"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","minesweeperRouteProps","statsRouteProps","HeaderComponent","className","style","activeClassName","href","currentIndex","currentComponent","prevRaf","currentHook","afterPaintEffects","oldBeforeRender","options","_render","oldAfterDiff","diffed","oldCommit","_commit","oldBeforeUnmount","unmount","getHookState","index","type","_hook","hooks","__hooks","_list","_pendingEffects","length","push","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","_component","_value","nextValue","action","setState","useEffect","callback","args","state","_skipEffects","argsChanged","_args","flushAfterPaintEffects","some","component","_parentDom","forEach","invokeCleanup","invokeEffect","e","_catchError","_vnode","hook","_cleanup","result","oldArgs","newArgs","arg","f","gameReducer","game","getAdjacentSquares","square","squares","width","height","x","y","filter","position","realPosition","getAdjacentPositions","map","getAdjacentMines","reduce","adjacentMines","mine","createBoard","mineRatio","minedBoard","row","markAdjacentMines","emptyBoard","Math","floor","random","setMinesAndPositions","Array","fill","revealed","flagged","createEmptyBoard","resetGame","difficulty","board","status","difficultyName","flagging","startedAt","finishedAt","vnode","requestAnimationFrame","raf","done","clearTimeout","timeout","cancelAnimationFrame","setTimeout","window","commitQueue","_renderCallbacks","cb","EASY","displayName","NORMAL","HARD","EASY_PLUS","NORMAL_PLUS","HARD_PLUS","EASY_PLUS_PLUS","NORMAL_PLUS_PLUS","HARD_PLUS_PLUS","DIFFICULTIES","statsReducer","stats","revealMines","getAdjacentSquaresToReveal","getPositionToReveal","squaresWithAdjacentToReveal","adjacentSquareToReveal","undefined","find","adjacentSquaresToReveal","hasAdjacentSquaresToReveal","revealSquare","revealBoard","currentSquare","it","reveal","gameStarted","mineRevealed","nonMineNotRevealed","findStatusProof","finished","finishedStatus","Date","now","createGame","saveStats","localStorage","setItem","JSON","stringify","gameResult","Error","win","logResultAction","todayOnly","results","logResult","toggleFlaggedSquare","toggleSquareFlagged","HiddenSquareComponent","props","timeoutId","updateTimeoutId","dispatch","statsDispatch","disabled","flaggedClass","flaggingClass","blur","document","activeElement","HTMLElement","immediateReveal","updatedGame","revealAction","longPressReveal","newTimeoutId","cancelLongPressReveal","revealFunction","toggleFlaggedSquareAction","squareStyle","onClick","onTouchStart","event","preventDefault","onTouchEnd","onTouchMove","RevealedSquareComponent","src","alt","SquareComponent","BoardComponent","renderRow","renderSquare","ResetComponent","updateDifficulty","onSubmit","resetAction","onInput","currentTarget","StatusComponent","title","description","emoji","zeroPad","slice","toHoursMinutesSeconds","millis","showMinutes","abs","h","toAbsHoursMinutesSeconds","computeElapsedTime","TimerComponent","elapsedTime","setElapsedTime","hiddenClass","timer","setInterval","clearInterval","toggleFlagging","FlaggingToggleComponent","buttonFlaggingClass","onKeyPress","addEventListener","removeEventListener","MinesweeperComponent","updateTitle","StatLineComponent","label","getRelevantResults","today","setHours","getTime","startOfToday","getWinRate","wins","games","rate","round","toFixed","getTotalTime","times","total","time","getWinningTimes","getDifficultySummary","totalTime","averageMillis","winningTimes","winRate","fastestTime","getFastestTime","averageTime","DifficultySummaryComponent","summary","getTotalSummary","totalTimeMillis","getAllTimes","getTotalPlayTime","TotalSummaryComponent","updatedStats","todayOnlyAction","todayOnlyValue","StatsComponent","heading","id","AppComponent","gameDispatch","getItem","parse","loadStats","routeTitle","clearSelection","getSelection","selection","empty","removeAllRanges","path","EMPTY","assign","obj","let","exec","url","route","opts","ret","reg","match","matches","split","decodeURIComponent","join","segmentize","replace","max","charAt","param","flags","plus","indexOf","star","val","default","pathRankSort","a","b","rank","prepareVNodeForRanking","rankSegment","rankChild","segment","customHistory","ROUTERS","subscribers","getCurrentUrl","location","getCurrentLocation","pathname","search","canRoute","history","setUrl","routeTo","didRoute","routeFromLink","node","getAttribute","target","handleLinkClick","ctrlKey","metaKey","altKey","shiftKey","button","this","prevent","stopImmediatePropagation","stopPropagation","delegateLinkHandler","String","nodeName","toUpperCase","hasAttribute","parentNode","eventListenersInitialized","Router","super","shouldComponentUpdate","static","onChange","const","children","getMatchingChildren","updating","forceUpdate","componentWillMount","componentDidMount","unlisten","listen","componentWillUnmount","splice","componentWillUpdate","componentDidUpdate","invoke","sort","newProps","ref","Boolean","render","active","current","previous","previousUrl","router","Link","Route","Match","_extends","arguments","source","_preact","_preactRouter","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_Component","_temp","_this","_len","_key","apply","concat","update","nextUrl","subClass","superClass","constructor","writable","configurable","setPrototypeOf","__proto__","_inherits","Component","_ref","keys","_objectWithoutProperties","_ref2","class"],"mappings":"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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"QfWi\");\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topRow\":\"NbAnYrWSfkuenLuTJ6QS5\",\"bottomRow\":\"_2p47jEkoTBrzYEJW6FmyjW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"d_mFF1jruGjQl7_HGI8X_\",\"square\":\"_3BBjZ1LPKgQUmtc8IO0vSh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"_1cWFJaZg9-KUzz2-tn8yCU\",\"summaries\":\"_2G422t4yLLZ-TCrtj4fWkT\"};","module.exports = require(\"preact\");","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_3oiVJRdVy6_Sqo1_K0EJ7o\",\"active\":\"_2VNCoyd6uprVuGrsbL3h4C\"};","import { RouteProps } from \"../route-props\";\n\nexport const minesweeperRouteProps: RouteProps = {\n    title: \"Play\",\n    path: \"/\"\n};\n","import { RouteProps } from \"../route-props\";\n\nexport const statsRouteProps: RouteProps = {\n    title: \"Stats\",\n    path: \"/stats\"\n};\n","import { h } from \"preact\";\nimport { Link } from \"preact-router/match\";\nimport * as style from \"./header-component.css\";\nimport { minesweeperRouteProps } from \"../minesweeper/minesweeper-route-props\";\nimport { statsRouteProps } from \"../stats/stats-route-props\";\n\nexport function HeaderComponent(): h.JSX.Element {\n    return (\n        <header className={style.header}>\n            <h1>Minesweeper Game</h1>\n            <nav>\n                <Link\n                    activeClassName={style.active}\n                    href={minesweeperRouteProps.path}\n                >\n                    {minesweeperRouteProps.title}\n                </Link>\n                <Link\n                    activeClassName={style.active}\n                    href={statsRouteProps.path}\n                >\n                    {statsRouteProps.title}\n                </Link>\n            </nav>\n        </header>\n    );\n}\n","import { cloneElement, createElement, Component, toChildArray } from 'preact';\nimport { exec, prepareVNodeForRanking, assign, pathRankSort } from './util';\n\nlet customHistory = null;\n\nconst ROUTERS = [];\n\nconst subscribers = [];\n\nconst EMPTY = {};\n\nfunction setUrl(url, type='push') {\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tlet url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn `${url.pathname || ''}${url.search || ''}`;\n}\n\n\n\nfunction route(url, replace=false) {\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (let i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) return true;\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tlet didRoute = false;\n\tfor (let i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (let i=subscribers.length; i--; ) {\n\t\tsubscribers[i](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) return;\n\n\tlet href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) return;\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\trouteFromLink(e.currentTarget || e.target || this);\n\treturn prevent(e);\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) e.stopImmediatePropagation();\n\t\tif (e.stopPropagation) e.stopPropagation();\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\n\tlet t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('native')) return;\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nlet eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) return;\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', () => {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nclass Router extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tshouldComponentUpdate(props) {\n\t\tif (props.static!==true) return true;\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t}\n\n\t/** Check if the given URL can be matched against any children */\n\tcanRoute(url) {\n\t\tconst children = toChildArray(this.props.children);\n\t\treturn this.getMatchingChildren(children, url, false).length > 0;\n\t}\n\n\t/** Re-render children with a new URL to match against. */\n\trouteTo(url) {\n\t\tthis.setState({ url });\n\n\t\tconst didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this.updating) this.forceUpdate();\n\n\t\treturn didRoute;\n\t}\n\n\tcomponentWillMount() {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen((location) => {\n\t\t\t\tthis.routeTo(`${location.pathname || ''}${location.search || ''}`);\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (typeof this.unlisten==='function') this.unlisten();\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t}\n\n\tcomponentWillUpdate() {\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updating = false;\n\t}\n\n\tgetMatchingChildren(children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( vnode => {\n\t\t\t\tlet matches = exec(url, vnode.props.path, vnode.props);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tlet newProps = { url, matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t}\n\n\trender({ children, onChange }, { url }) {\n\t\tlet active = this.getMatchingChildren(toChildArray(children), url, true);\n\n\t\tlet current = active[0] || null;\n\n\t\tlet previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl,\n\t\t\t\t\tprevious,\n\t\t\t\t\tactive,\n\t\t\t\t\tcurrent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t}\n}\n\nconst Link = (props) => (\n\tcreateElement('a', assign({ onClick: handleLinkClick }, props))\n);\n\nconst Route = props => createElement(props.component, props);\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\nRouter.exec = exec;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link, exec };\nexport default Router;\n","import { Game } from \"./types/game\";\n\nexport type GameReducer = (game: Game) => Game;\n\nexport type GameDispatch = (action: GameReducer) => void;\n\nexport function gameReducer(game: Game, action: GameReducer): Game {\n    return action(game);\n}\n","import { Position } from \"../types/position\";\nimport { Square } from \"../types/square\";\n\nfunction realPosition(\n    { x, y }: Position,\n    width: number,\n    height: number\n): boolean {\n    return x >= 0 && y >= 0 && x < width && y < height;\n}\n\nfunction getAdjacentPositions(\n    { x, y }: Position,\n    width: number,\n    height: number\n): Position[] {\n    return [\n        // row above\n        { x: x - 1, y: y - 1 },\n        { x, y: y - 1 },\n        { x: x + 1, y: y - 1 },\n        // same row\n        { x: x - 1, y },\n        { x: x + 1, y },\n        // row below\n        { x: x - 1, y: y + 1 },\n        { x, y: y + 1 },\n        { x: x + 1, y: y + 1 }\n    ].filter(position => realPosition(position, width, height));\n}\n\nexport function getAdjacentSquares(\n    square: Square,\n    squares: Square[][]\n): Square[] {\n    return getAdjacentPositions(\n        square.position,\n        squares[0].length,\n        squares.length\n    ).map(({ x, y }) => squares[y][x]);\n}\n","import { Square } from \"../types/square\";\nimport { getAdjacentSquares } from \"./get-adjacent-squares\";\n\nfunction createEmptyBoard(height: number, width: number): Square[][] {\n    return new Array<Square[]>(height).fill(\n        new Array<Square>(width).fill({\n            position: { x: 0, y: 0 },\n            revealed: false,\n            flagged: false,\n            mine: false,\n            adjacentMines: 0\n        })\n    );\n}\n\nfunction setMinesAndPositions(\n    emptyBoard: Square[][],\n    mineRatio: number\n): Square[][] {\n    return emptyBoard.map((row, y) =>\n        row.map((square, x) => ({\n            ...square,\n            position: { x, y },\n            mine: Math.floor(Math.random() * mineRatio) === 0\n        }))\n    );\n}\n\nfunction getAdjacentMines(square: Square, squares: Square[][]): number {\n    return getAdjacentSquares(square, squares).reduce(\n        (adjacentMines: number, { mine }: Square) =>\n            mine ? adjacentMines + 1 : adjacentMines,\n        square.mine ? 1 : 0\n    );\n}\n\nfunction markAdjacentMines(minedBoard: Square[][]): Square[][] {\n    return minedBoard.map(row =>\n        row.map(square => ({\n            ...square,\n            adjacentMines: getAdjacentMines(square, minedBoard)\n        }))\n    );\n}\n\nexport function createBoard(\n    height: number,\n    width: number,\n    mineRatio: number\n): Square[][] {\n    const emptyBoard = createEmptyBoard(height, width);\n    const minedBoard = setMinesAndPositions(emptyBoard, mineRatio);\n    return markAdjacentMines(minedBoard);\n}\n","import { Game } from \"../types/game\";\nimport { createBoard } from \"./create-board\";\nimport { Difficulty } from \"../types/difficulty\";\n\nexport function resetGame(difficulty: Difficulty): Game {\n    const { height, width, mineRatio, name } = difficulty;\n    return {\n        board: createBoard(height, width, mineRatio),\n        status: \"START\",\n        difficultyName: name,\n        flagging: false,\n        startedAt: null,\n        finishedAt: null\n    };\n}\n","export type DifficultyName =\n    | \"EASY\"\n    | \"NORMAL\"\n    | \"HARD\"\n    | \"EASY+\"\n    | \"NORMAL+\"\n    | \"HARD+\"\n    | \"EASY++\"\n    | \"NORMAL++\"\n    | \"HARD++\";\n\nexport interface Difficulty {\n    readonly name: DifficultyName;\n    readonly displayName: string;\n    readonly height: number;\n    readonly width: number;\n    readonly mineRatio: number;\n}\n\nexport const EASY: Difficulty = {\n    name: \"EASY\",\n    displayName: \"Easy\",\n    height: 10,\n    width: 10,\n    mineRatio: 8\n};\n\nexport const NORMAL: Difficulty = {\n    name: \"NORMAL\",\n    displayName: \"Normal\",\n    height: 15,\n    width: 25,\n    mineRatio: 8\n};\n\nexport const HARD: Difficulty = {\n    name: \"HARD\",\n    displayName: \"Hard\",\n    height: 20,\n    width: 40,\n    mineRatio: 8\n};\n\nexport const EASY_PLUS: Difficulty = {\n    name: \"EASY+\",\n    displayName: \"Easy+\",\n    height: 10,\n    width: 10,\n    mineRatio: 7\n};\n\nexport const NORMAL_PLUS: Difficulty = {\n    name: \"NORMAL+\",\n    displayName: \"Normal+\",\n    height: 15,\n    width: 25,\n    mineRatio: 7\n};\n\nexport const HARD_PLUS: Difficulty = {\n    name: \"HARD+\",\n    displayName: \"Hard+\",\n    height: 20,\n    width: 40,\n    mineRatio: 7\n};\n\nexport const EASY_PLUS_PLUS: Difficulty = {\n    name: \"EASY++\",\n    displayName: \"Easy++\",\n    height: 10,\n    width: 10,\n    mineRatio: 6\n};\n\nexport const NORMAL_PLUS_PLUS: Difficulty = {\n    name: \"NORMAL++\",\n    displayName: \"Normal++\",\n    height: 15,\n    width: 25,\n    mineRatio: 6\n};\n\nexport const HARD_PLUS_PLUS: Difficulty = {\n    name: \"HARD++\",\n    displayName: \"Hard++\",\n    height: 20,\n    width: 40,\n    mineRatio: 6\n};\n\nexport const DIFFICULTIES: readonly Difficulty[] = [\n    EASY,\n    EASY_PLUS,\n    EASY_PLUS_PLUS,\n    NORMAL,\n    NORMAL_PLUS,\n    NORMAL_PLUS_PLUS,\n    HARD,\n    HARD_PLUS,\n    HARD_PLUS_PLUS\n];\n","import { Stats } from \"./types/stats\";\n\nexport type StatsReducer = (stats: Stats) => Stats;\n\nexport type StatsDispatch = (action: StatsReducer) => void;\n\nexport function statsReducer(stats: Stats, action: StatsReducer): Stats {\n    return action(stats);\n}\n","import { Square } from \"../types/square\";\n\nexport function revealMines(squares: Square[][]): Square[][] {\n    return squares.map(row =>\n        row.map(square => ({\n            ...square,\n            revealed: square.mine ? true : square.revealed\n        }))\n    );\n}\n","import { Square } from \"../types/square\";\nimport { getAdjacentSquares } from \"./get-adjacent-squares\";\nimport { createGame } from \"./create-game\";\nimport { Game } from \"../types/game\";\n\nfunction getAdjacentSquaresToReveal(\n    square: Square,\n    squares: Square[][]\n): Square[] {\n    return getAdjacentSquares(square, squares).filter(s =>\n        s.mine ? false : !s.revealed\n    );\n}\n\nfunction getPositionToReveal(\n    squaresWithAdjacentToReveal: Square[],\n    squares: Square[][]\n): Square | undefined {\n    let adjacentSquareToReveal: Square | undefined = undefined;\n    squaresWithAdjacentToReveal.find(square => {\n        const adjacentSquaresToReveal = getAdjacentSquaresToReveal(\n            square,\n            squares\n        );\n\n        adjacentSquareToReveal = adjacentSquaresToReveal.length\n            ? adjacentSquaresToReveal[0]\n            : undefined;\n\n        return !!adjacentSquareToReveal;\n    });\n    return adjacentSquareToReveal;\n}\n\nfunction hasAdjacentSquaresToReveal(\n    square: Square,\n    squares: Square[][]\n): boolean {\n    return (\n        square.adjacentMines === 0 &&\n        getAdjacentSquaresToReveal(square, squares).length > 0\n    );\n}\n\nfunction revealSquare(square: Square, squares: Square[][]): void {\n    const { y, x } = square.position;\n    squares[y][x] = {\n        ...square,\n        revealed: true\n    };\n}\n\nexport function revealBoard(square: Square, squares: Square[][]): Square[][] {\n    let squaresWithAdjacentToReveal: Square[] = [];\n    let currentSquare: Square | undefined = square;\n\n    // copying squares array to avoid manipulating the one that is passed in\n    // creating a new set of squares for each square revealed is too costly\n    squares = squares.map(it => it);\n\n    while (currentSquare) {\n        revealSquare(currentSquare, squares);\n\n        if (hasAdjacentSquaresToReveal(currentSquare, squares)) {\n            squaresWithAdjacentToReveal = [\n                ...squaresWithAdjacentToReveal,\n                currentSquare\n            ];\n        } else {\n            squaresWithAdjacentToReveal = squaresWithAdjacentToReveal.filter(\n                s => s !== currentSquare\n            );\n        }\n\n        currentSquare = getPositionToReveal(\n            squaresWithAdjacentToReveal,\n            squares\n        );\n    }\n\n    return squares;\n}\n\nexport function reveal(square: Square, game: Game): Game {\n    return createGame({\n        ...game,\n        board: revealBoard(square, game.board),\n        startedAt: game.startedAt || Date.now()\n    });\n}\n","import { getStatus } from \"./get-status\";\nimport { revealMines } from \"./reveal-mines\";\nimport { GameStatus } from \"../types/game-status\";\nimport { Game } from \"../types/game\";\n\nfunction finishedStatus(status: GameStatus): boolean {\n    return status === \"FAIL\" || status === \"WIN\";\n}\n\nexport function createGame(game: Game): Game {\n    const { board, flagging, startedAt, difficultyName } = game;\n    const status = getStatus(board);\n    const finished = finishedStatus(status);\n    return {\n        board: finished ? revealMines(board) : board,\n        difficultyName,\n        status,\n        flagging,\n        startedAt,\n        finishedAt: finished ? Date.now() : null\n    };\n}\n","import { Square } from \"../types/square\";\nimport { GameStatus } from \"../types/game-status\";\n\ninterface StatusProof {\n    gameStarted: boolean;\n    mineRevealed: boolean;\n    nonMineNotRevealed: boolean;\n}\n\nfunction findStatusProof(squares: Square[][]): StatusProof {\n    let gameStarted = false;\n    let mineRevealed = false;\n    let nonMineNotRevealed = false;\n    squares.forEach(row =>\n        row.forEach(square => {\n            if (!gameStarted && square.revealed) {\n                gameStarted = true;\n            }\n            if (!mineRevealed && square.revealed && square.mine) {\n                mineRevealed = true;\n            }\n            if (!nonMineNotRevealed && !square.revealed && !square.mine) {\n                nonMineNotRevealed = true;\n            }\n        })\n    );\n    return { gameStarted, mineRevealed, nonMineNotRevealed };\n}\n\nexport function getStatus(squares: Square[][]): GameStatus {\n    const { gameStarted, mineRevealed, nonMineNotRevealed } = findStatusProof(\n        squares\n    );\n\n    if (!gameStarted) {\n        return \"START\";\n    } else if (mineRevealed) {\n        return \"FAIL\";\n    } else if (nonMineNotRevealed) {\n        return \"PLAY\";\n    } else {\n        return \"WIN\";\n    }\n}\n","import { Stats } from \"../types/stats\";\n\nexport function saveStats(stats: Stats): void {\n    try {\n        localStorage.setItem(\"stats\", JSON.stringify(stats));\n    } catch (e) {\n        // local storage isn't available for whatever reason.\n        // the stats will only exist in memory then.\n    }\n}\n","import { Game } from \"../../minesweeper/types/game\";\nimport { Stats } from \"../types/stats\";\nimport { Result } from \"../types/result\";\nimport { saveStats } from \"./save-stats\";\n\nfunction gameResult(game: Game): Result {\n    const { startedAt, finishedAt, difficultyName } = game;\n    if (!startedAt || !finishedAt) {\n        throw new Error(\"Game is unfinished!\");\n    }\n    return {\n        difficultyName: difficultyName,\n        win: game.status === \"WIN\",\n        startedAt,\n        finishedAt\n    };\n}\n\nexport function logResult({ todayOnly, results }: Stats, game: Game): Stats {\n    const stats: Stats = {\n        todayOnly,\n        results: [...results, gameResult(game)]\n    };\n    saveStats(stats);\n    return stats;\n}\n","import { Game } from \"../../minesweeper/types/game\";\nimport { Stats } from \"../types/stats\";\nimport { StatsReducer } from \"../stats-reducer\";\nimport { logResult } from \"../functions/log-result\";\n\nexport function logResultAction(game: Game): StatsReducer {\n    return function(stats: Stats): Stats {\n        return logResult(stats, game);\n    };\n}\n","import { Game } from \"../types/game\";\nimport { Square } from \"../types/square\";\n\nfunction toggleSquareFlagged(square: Square): Square {\n    return {\n        ...square,\n        flagged: !square.flagged\n    };\n}\n\nexport function toggleFlaggedSquare(square: Square, game: Game): Game {\n    const board = game.board.map(row =>\n        row.map(currentSquare =>\n            currentSquare.position.y === square.position.y &&\n            currentSquare.position.x === square.position.x\n                ? toggleSquareFlagged(currentSquare)\n                : currentSquare\n        )\n    );\n    return { ...game, board };\n}\n","import { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { h } from \"preact\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport { revealAction } from \"../../../minesweeper/actions/reveal-action\";\nimport * as squareStyle from \"./square-component.css\";\nimport * as style from \"./hidden-square-component.css\";\nimport { toggleFlaggedSquareAction } from \"../../../minesweeper/actions/toggle-flagged-square-action\";\nimport { StatsDispatch } from \"../../../stats/stats-reducer\";\nimport { useState } from \"preact/hooks\";\n\ninterface Props {\n    square: Square;\n    status: GameStatus;\n    flagging: boolean;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n}\n\nexport function HiddenSquareComponent(props: Props): h.JSX.Element {\n    const [timeoutId, updateTimeoutId] = useState(0);\n    const { square, status, flagging, dispatch, statsDispatch } = props;\n    const disabled = status === \"FAIL\" || status === \"WIN\";\n    const flaggedClass = square.flagged ? style.flagged : \"\";\n    const flaggingClass = flagging ? style.flagging : \"\";\n\n    function blur(): void {\n        if (document.activeElement instanceof HTMLElement) {\n            document.activeElement.blur();\n        }\n    }\n\n    function immediateReveal(): void {\n        if (!square.flagged) {\n            dispatch(revealAction(square, statsDispatch));\n        }\n    }\n\n    function longPressReveal(): void {\n        if (!flagging) {\n            const newTimeoutId = window.setTimeout(immediateReveal, 1000);\n            updateTimeoutId(newTimeoutId);\n        }\n    }\n\n    function cancelLongPressReveal(): void {\n        if (timeoutId) {\n            window.clearTimeout(timeoutId);\n            updateTimeoutId(0);\n        }\n        blur();\n    }\n\n    function reveal(revealFunction: () => void): void {\n        if (disabled) {\n            return;\n        } else if (flagging) {\n            dispatch(toggleFlaggedSquareAction(square));\n            blur();\n        } else if (!square.flagged) {\n            revealFunction();\n        }\n    }\n\n    function mouseReveal(): void {\n        reveal(immediateReveal);\n    }\n\n    function touchReveal(\n        event: h.JSX.TargetedTouchEvent<HTMLButtonElement>\n    ): void {\n        event.preventDefault();\n        reveal(longPressReveal);\n    }\n\n    return (\n        <div className={squareStyle.square}>\n            <button\n                disabled={disabled}\n                className={`${squareStyle.square} ${style.hidden} ${flaggedClass} ${flaggingClass}`}\n                onClick={mouseReveal}\n                onTouchStart={touchReveal}\n                onTouchEnd={cancelLongPressReveal}\n                onTouchMove={cancelLongPressReveal}\n            />\n        </div>\n    );\n}\n","import { Game } from \"../types/game\";\nimport { Square } from \"../types/square\";\nimport { GameReducer } from \"../game-reducer\";\nimport { reveal } from \"../functions/reveal\";\nimport { StatsDispatch } from \"../../stats/stats-reducer\";\nimport { logResultAction } from \"../../stats/actions/log-result-action\";\n\nexport function revealAction(\n    square: Square,\n    statsDispatch: StatsDispatch\n): GameReducer {\n    return function(game: Game): Game {\n        const updatedGame = reveal(square, game);\n        if (!game.finishedAt && !!updatedGame.finishedAt) {\n            statsDispatch(logResultAction(updatedGame));\n        }\n        return updatedGame;\n    };\n}\n","import { Game } from \"../types/game\";\nimport { Square } from \"../types/square\";\nimport { GameReducer } from \"../game-reducer\";\nimport { toggleFlaggedSquare } from \"../functions/toggle-flagged-square\";\n\nexport function toggleFlaggedSquareAction(square: Square): GameReducer {\n    return function(game: Game): Game {\n        return toggleFlaggedSquare(square, game);\n    };\n}\n","import { h } from \"preact\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport * as squareStyle from \"./square-component.css\";\nimport * as style from \"./revealed-square-component.css\";\n\ninterface Props {\n    square: Square;\n    status: GameStatus;\n}\n\nexport function RevealedSquareComponent(props: Props): h.JSX.Element {\n    const { status, square } = props;\n    const { mine, adjacentMines } = square;\n\n    function mineImg(): h.JSX.Element {\n        const winStyle = status === \"WIN\" ? style.win : \"\";\n        const className = ` ${winStyle} ${style.mine}`;\n        const mineImgSrc = \"/assets/icons/mine.png\";\n        return <img className={className} src={mineImgSrc} alt=\"Mine\" />;\n    }\n\n    return (\n        <div className={`${squareStyle.square} ${style.revealed}`}>\n            {mine ? mineImg() : adjacentMines || \"\"}\n        </div>\n    );\n}\n","import { h } from \"preact\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { HiddenSquareComponent } from \"./hidden-square-component\";\nimport { RevealedSquareComponent } from \"./revealed-square-component\";\nimport * as style from \"./square-component.css\";\nimport { StatsDispatch } from \"../../../stats/stats-reducer\";\n\ninterface Props {\n    square: Square;\n    status: GameStatus;\n    flagging: boolean;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n}\n\nexport function SquareComponent(props: Props): h.JSX.Element {\n    const { square, status, flagging, dispatch, statsDispatch } = props;\n    const { revealed } = square;\n\n    function revealedSquare(): h.JSX.Element {\n        return <RevealedSquareComponent square={square} status={status} />;\n    }\n\n    function hiddenSquare(): h.JSX.Element {\n        return (\n            <HiddenSquareComponent\n                square={square}\n                status={status}\n                flagging={flagging}\n                dispatch={dispatch}\n                statsDispatch={statsDispatch}\n            />\n        );\n    }\n\n    return (\n        <div className={style.container}>\n            {revealed ? revealedSquare() : hiddenSquare()}\n        </div>\n    );\n}\n","import { h } from \"preact\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport { SquareComponent } from \"../square/square-component\";\nimport * as style from \"./board-component.css\";\nimport { Game } from \"../../../minesweeper/types/game\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { StatsDispatch } from \"../../../stats/stats-reducer\";\n\ninterface Props {\n    game: Game;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n}\n\nexport function BoardComponent(props: Props): h.JSX.Element {\n    const { game, dispatch, statsDispatch } = props;\n    const { status, board, flagging } = game;\n\n    function renderSquare(square: Square): h.JSX.Element {\n        return (\n            <SquareComponent\n                square={square}\n                status={status}\n                flagging={flagging}\n                dispatch={dispatch}\n                statsDispatch={statsDispatch}\n            />\n        );\n    }\n\n    function renderRow(row: Square[]): h.JSX.Element {\n        return (\n            <div className={style.row}>\n                {row.map(square => renderSquare(square))}\n            </div>\n        );\n    }\n\n    return (\n        <div className={style.board}>{board.map(row => renderRow(row))}</div>\n    );\n}\n","import { h } from \"preact\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { useState } from \"preact/hooks\";\nimport { resetAction } from \"../../../minesweeper/actions/reset-action\";\nimport * as style from \"./reset-component.css\";\nimport {\n    DIFFICULTIES,\n    Difficulty,\n    DifficultyName,\n    EASY\n} from \"../../../minesweeper/types/difficulty\";\n\ninterface Props {\n    dispatch: GameDispatch;\n}\n\nexport function ResetComponent(props: Props): h.JSX.Element {\n    const { dispatch } = props;\n    const [difficulty, updateDifficulty] = useState(\"EASY\" as DifficultyName);\n\n    function getResetDifficultyValue(): Difficulty {\n        return DIFFICULTIES.find(it => it.name === difficulty) || EASY;\n    }\n\n    function reset(e: h.JSX.TargetedEvent): void {\n        e.preventDefault();\n        dispatch(resetAction(getResetDifficultyValue()));\n    }\n\n    function onDifficultyInput(\n        e: h.JSX.TargetedEvent<HTMLSelectElement, Event>\n    ): void {\n        updateDifficulty(e.currentTarget.value as DifficultyName);\n    }\n\n    function difficultyOption(d: Difficulty): h.JSX.Element {\n        const { name, displayName, width, height } = d;\n        return (\n            <option value={name}>\n                {displayName} ({width}x{height})\n            </option>\n        );\n    }\n\n    return (\n        <div className={style.reset}>\n            <form onSubmit={reset}>\n                <select\n                    className={style.select}\n                    value={difficulty}\n                    onInput={onDifficultyInput}\n                >\n                    {DIFFICULTIES.map(difficultyOption)}\n                </select>\n                <button className={style.submit} type=\"submit\">\n                    Reset\n                </button>\n            </form>\n        </div>\n    );\n}\n","import { Game } from \"../types/game\";\nimport { GameReducer } from \"../game-reducer\";\nimport { resetGame } from \"../functions/reset-game\";\nimport { Difficulty } from \"../types/difficulty\";\n\nexport function resetAction(difficulty: Difficulty): GameReducer {\n    return function(): Game {\n        return resetGame(difficulty);\n    };\n}\n","import { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { h } from \"preact\";\nimport * as style from \"./status-component.css\";\n\ninterface Props {\n    status: GameStatus;\n}\n\nexport function StatusComponent(props: Props): h.JSX.Element {\n    const { status } = props;\n\n    function description(): string {\n        switch (status) {\n            case \"START\":\n                return \"\";\n            case \"PLAY\":\n                return \"Game in progress...\";\n            case \"FAIL\":\n                return \"You lost!  Please, try again!\";\n            case \"WIN\":\n                return \"You won!\";\n        }\n    }\n\n    function emoji(): string {\n        switch (status) {\n            case \"START\":\n                return \"🙂\";\n            case \"PLAY\":\n                return \"🤔\";\n            case \"FAIL\":\n                return \"😵\";\n            case \"WIN\":\n                return \"😎\";\n        }\n    }\n\n    return (\n        <div className={style.status}>\n            <div className={style.emoji} title={description()}>\n                {emoji()}\n            </div>\n        </div>\n    );\n}\n","function zeroPad(d: number): string {\n    return `0${d}`.slice(-2);\n}\n\nfunction toAbsHoursMinutesSeconds(\n    millis: number,\n    showMinutes: boolean\n): string {\n    const d = Math.floor(Math.abs(millis) / 1000);\n    const h = Math.floor(d / 3600);\n    const m = Math.floor((d % 3600) / 60);\n    const s = Math.floor((d % 3600) % 60);\n\n    if (h > 0) {\n        return `${h}:${zeroPad(m)}:${zeroPad(s)}`;\n    } else if (showMinutes || m > 0) {\n        return `${m}:${zeroPad(s)}`;\n    } else {\n        return `${s}`;\n    }\n}\n\nexport function toHoursMinutesSeconds(\n    millis: number,\n    showMinutes = false\n): string {\n    const sign = millis < 0 ? \"-\" : \"\";\n    const absHoursMinutesSeconds = toAbsHoursMinutesSeconds(\n        millis,\n        showMinutes\n    );\n    return `${sign}${absHoursMinutesSeconds}`;\n}\n","import { h } from \"preact\";\nimport * as style from \"./timer-component.css\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { toHoursMinutesSeconds } from \"../../../minesweeper/functions/to-hours-minutes-seconds\";\n\ninterface Props {\n    startedAt: number | null;\n    finishedAt: number | null;\n}\n\nfunction computeElapsedTime(\n    startedAt: number | null,\n    finishedAt: number | null\n): number {\n    if (startedAt === null) {\n        return 0;\n    } else if (finishedAt === null) {\n        return Date.now() - startedAt;\n    } else {\n        return finishedAt - startedAt;\n    }\n}\n\nexport function TimerComponent(props: Props): h.JSX.Element {\n    const { startedAt, finishedAt } = props;\n    const [elapsedTime, setElapsedTime] = useState<number>(\n        computeElapsedTime(startedAt, finishedAt)\n    );\n    const hiddenClass = startedAt !== null ? \"\" : style.hide;\n\n    useEffect(function() {\n        const timer = window.setInterval(function(): void {\n            setElapsedTime(computeElapsedTime(startedAt, finishedAt));\n        }, 100);\n        return function(): void {\n            clearInterval(timer);\n        };\n    });\n\n    return (\n        <div className={`${style.container} ${hiddenClass}`}>\n            <div className={style.timer}>\n                {toHoursMinutesSeconds(elapsedTime)}&nbsp;⏱\n            </div>\n        </div>\n    );\n}\n","import { Game } from \"../types/game\";\n\nexport function toggleFlagging(game: Game): Game {\n    return {\n        ...game,\n        flagging: !game.flagging\n    };\n}\n","import { h } from \"preact\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport * as style from \"./flagging-toggle-component.css\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { toggleFlaggingAction } from \"../../../minesweeper/actions/toggle-flagging-action\";\nimport { useEffect } from \"preact/hooks\";\n\ninterface Props {\n    status: GameStatus;\n    flagging: boolean;\n    dispatch: GameDispatch;\n}\n\nexport function FlaggingToggleComponent(props: Props): h.JSX.Element {\n    const { status, flagging, dispatch } = props;\n    const buttonFlaggingClass = flagging ? style.buttonActive : \"\";\n    const disabled = status === \"WIN\" || status === \"FAIL\";\n\n    function toggleFlagging(): void {\n        if (!disabled) {\n            dispatch(toggleFlaggingAction());\n        }\n    }\n\n    function onKeyPress(e: KeyboardEvent): void {\n        if (e.key === \"f\") {\n            toggleFlagging();\n        }\n    }\n\n    useEffect(function() {\n        document.addEventListener(\"keydown\", onKeyPress);\n        return function(): void {\n            document.removeEventListener(\"keydown\", onKeyPress);\n        };\n    });\n\n    return (\n        <div className={`${style.container} ${buttonFlaggingClass}`}>\n            <button\n                onClick={toggleFlagging}\n                disabled={disabled}\n                className={style.button}\n                title=\"Toggle flagging mines (Press F for shortcut)\"\n            >\n                <span className={style.flag}>🚩</span>\n            </button>\n        </div>\n    );\n}\n","import { GameReducer } from \"../game-reducer\";\nimport { Game } from \"../types/game\";\nimport { toggleFlagging } from \"../functions/toggle-flagging\";\n\nexport function toggleFlaggingAction(): GameReducer {\n    return function(game: Game): Game {\n        return toggleFlagging(game);\n    };\n}\n","import { h } from \"preact\";\nimport { GameDispatch } from \"../../minesweeper/game-reducer\";\nimport { BoardComponent } from \"./board/board-component\";\nimport { ResetComponent } from \"./reset/reset-component\";\nimport { Game } from \"../../minesweeper/types/game\";\nimport { StatusComponent } from \"./status/status-component\";\nimport * as style from \"./minesweeper-component.css\";\nimport { TimerComponent } from \"./timer/timer-component\";\nimport { FlaggingToggleComponent } from \"./flagging-toggle/flagging-toggle-component\";\nimport { StatsDispatch } from \"../../stats/stats-reducer\";\nimport { useEffect } from \"preact/hooks\";\nimport { TitleUpdater } from \"../app-component\";\nimport { minesweeperRouteProps } from \"./minesweeper-route-props\";\n\ninterface Props {\n    game: Game;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n    updateTitle: TitleUpdater;\n}\n\nexport function MinesweeperComponent(props: Props): h.JSX.Element {\n    const { game, dispatch, statsDispatch, updateTitle } = props;\n    const { status, flagging, startedAt, finishedAt } = game;\n\n    useEffect(function() {\n        updateTitle(minesweeperRouteProps.title);\n    }, []);\n\n    return (\n        <div>\n            <div className={style.topRow}>\n                <StatusComponent status={status} />\n                <ResetComponent dispatch={dispatch} />\n                <TimerComponent startedAt={startedAt} finishedAt={finishedAt} />\n            </div>\n            <BoardComponent\n                game={game}\n                dispatch={dispatch}\n                statsDispatch={statsDispatch}\n            />\n            <div className={style.bottomRow}>\n                <FlaggingToggleComponent\n                    status={status}\n                    flagging={flagging}\n                    dispatch={dispatch}\n                />\n            </div>\n        </div>\n    );\n}\n","import { h } from \"preact\";\nimport * as style from \"./stat-line-component.css\";\n\ninterface Props {\n    label: string;\n    value: string | number;\n}\n\nexport function StatLineComponent(props: Props): h.JSX.Element {\n    const { label, value } = props;\n\n    return (\n        <div className={style.line}>\n            <div className={style.label}>\n                <strong>{label}</strong>\n            </div>\n            <div className={style.value}>{value}</div>\n        </div>\n    );\n}\n","import { Result } from \"../types/result\";\nimport { Stats } from \"../types/stats\";\nimport { Difficulty } from \"../../minesweeper/types/difficulty\";\n\nfunction startOfToday(): number {\n    const today = new Date(Date.now());\n    today.setHours(0, 0, 0, 0);\n    return today.getTime();\n}\n\nexport function getRelevantResults(\n    { results, todayOnly }: Stats,\n    difficulty?: Difficulty\n): Result[] {\n    const today = startOfToday();\n    return results.filter(result => {\n        if (difficulty && result.difficultyName !== difficulty.name) {\n            return false;\n        } else {\n            return !(todayOnly && result.finishedAt < today);\n        }\n    });\n}\n","export function getWinRate(wins: number, games: number): string {\n    const rate = games ? (wins / games) * 100 : 0;\n    const winRate = (Math.round(rate * 10) / 10).toFixed(1);\n    return `${winRate}%`;\n}\n","export function getTotalTime(times: number[]): number {\n    return times.reduce((total, time) => total + time, 0);\n}\n","import { Result } from \"../types/result\";\n\nexport function getWinningTimes(results: Result[]): number[] {\n    return results\n        .filter(result => result.win)\n        .map(result => result.finishedAt - result.startedAt);\n}\n","import { Stats } from \"../types/stats\";\nimport { Difficulty } from \"../../minesweeper/types/difficulty\";\nimport { getRelevantResults } from \"./get-relevant-results\";\nimport { toHoursMinutesSeconds } from \"../../minesweeper/functions/to-hours-minutes-seconds\";\nimport { getWinRate } from \"./get-win-rate\";\nimport { getTotalTime } from \"./get-total-time\";\nimport { DifficultySummary } from \"../types/difficulty-summary\";\nimport { getWinningTimes } from \"./get-winning-times\";\n\nfunction getFastestTime(times: number[]): string {\n    let fastestTime: number | null = null;\n    times.forEach(time => {\n        if (fastestTime === null || time < fastestTime) {\n            fastestTime = time;\n        }\n    });\n    return fastestTime ? toHoursMinutesSeconds(fastestTime, true) : \"-:--\";\n}\n\nfunction getAverageTime(times: number[]): string {\n    const totalTime = getTotalTime(times);\n    const averageMillis = Math.floor(totalTime / times.length);\n    return averageMillis ? toHoursMinutesSeconds(averageMillis, true) : \"-:--\";\n}\n\nexport function getDifficultySummary(\n    stats: Stats,\n    difficulty?: Difficulty\n): DifficultySummary {\n    const results = getRelevantResults(stats, difficulty);\n    const games = results.length;\n    const winningTimes = getWinningTimes(results);\n    const wins = winningTimes.length;\n    const winRate = getWinRate(wins, games);\n    const fastestTime = getFastestTime(winningTimes);\n    const averageTime = getAverageTime(winningTimes);\n    return { games, wins, winRate, fastestTime, averageTime };\n}\n","import { Stats } from \"../../../stats/types/stats\";\nimport { h } from \"preact\";\nimport { Difficulty } from \"../../../minesweeper/types/difficulty\";\nimport { StatLineComponent } from \"../stat-line/stat-line-component\";\nimport * as style from \"./summary-component.css\";\nimport { getDifficultySummary } from \"../../../stats/functions/get-difficulty-summary\";\n\ninterface Props {\n    stats: Stats;\n    difficulty: Difficulty;\n}\n\nexport function DifficultySummaryComponent(props: Props): h.JSX.Element {\n    const { stats, difficulty } = props;\n    const summary = getDifficultySummary(stats, difficulty);\n    const { games, wins, winRate, fastestTime, averageTime } = summary;\n\n    return (\n        <div className={style.summary}>\n            <h3>\n                {difficulty.displayName}{\" \"}\n                <span className={style.dimensions}>\n                    ({difficulty.width}x{difficulty.height})\n                </span>\n            </h3>\n            <div className={style.statLines}>\n                <StatLineComponent label=\"Games\" value={games} />\n                <StatLineComponent label=\"Wins\" value={wins} />\n                <StatLineComponent label=\"Wins (%)\" value={winRate} />\n                <StatLineComponent label=\"Fastest Time\" value={fastestTime} />\n                <StatLineComponent label=\"Average Time\" value={averageTime} />\n            </div>\n        </div>\n    );\n}\n","import { Stats } from \"../types/stats\";\nimport { getRelevantResults } from \"./get-relevant-results\";\nimport { getWinRate } from \"./get-win-rate\";\nimport { getWinningTimes } from \"./get-winning-times\";\nimport { TotalSummary } from \"../types/total-summary\";\nimport { getTotalTime } from \"./get-total-time\";\nimport { Result } from \"../types/result\";\nimport { toHoursMinutesSeconds } from \"../../minesweeper/functions/to-hours-minutes-seconds\";\n\nexport function getAllTimes(results: Result[]): number[] {\n    return results.map(result => result.finishedAt - result.startedAt);\n}\n\nfunction getTotalPlayTime(results: Result[]): string {\n    const allTimes = getAllTimes(results);\n    const totalTimeMillis = getTotalTime(allTimes);\n    return totalTimeMillis\n        ? toHoursMinutesSeconds(totalTimeMillis, true)\n        : \"-:--\";\n}\n\nexport function getTotalSummary(stats: Stats): TotalSummary {\n    const results = getRelevantResults(stats);\n    const totalTime = getTotalPlayTime(results);\n    const games = results.length;\n    const wins = getWinningTimes(results).length;\n    const winRate = getWinRate(wins, games);\n    return { totalTime, games, wins, winRate };\n}\n","import { Stats } from \"../../../stats/types/stats\";\nimport { h } from \"preact\";\nimport * as style from \"./summary-component.css\";\nimport { StatLineComponent } from \"../stat-line/stat-line-component\";\nimport { getTotalSummary } from \"../../../stats/functions/get-total-summary\";\n\ninterface Props {\n    stats: Stats;\n}\n\nexport function TotalSummaryComponent(props: Props): h.JSX.Element {\n    const { stats } = props;\n    const { totalTime, games, wins, winRate } = getTotalSummary(stats);\n\n    return (\n        <div className={style.summary}>\n            <h3>All Modes</h3>\n            <div className={style.statLines}>\n                <StatLineComponent label=\"Games\" value={games} />\n                <StatLineComponent label=\"Wins\" value={wins} />\n                <StatLineComponent label=\"Wins (%)\" value={winRate} />\n                <StatLineComponent label=\"Total Play Time\" value={totalTime} />\n            </div>\n        </div>\n    );\n}\n","import { Stats } from \"../types/stats\";\nimport { saveStats } from \"./save-stats\";\n\nexport function todayOnly(stats: Stats, todayOnly: boolean): Stats {\n    const updatedStats: Stats = {\n        ...stats,\n        todayOnly\n    };\n    saveStats(updatedStats);\n    return updatedStats;\n}\n","import { Stats } from \"../types/stats\";\nimport { StatsReducer } from \"../stats-reducer\";\nimport { todayOnly } from \"../functions/today-only\";\n\nexport function todayOnlyAction(todayOnlyValue: boolean): StatsReducer {\n    return function(stats: Stats): Stats {\n        return todayOnly(stats, todayOnlyValue);\n    };\n}\n","import { h } from \"preact\";\nimport { Stats } from \"../../stats/types/stats\";\nimport { StatsDispatch } from \"../../stats/stats-reducer\";\nimport { DifficultySummaryComponent } from \"./summary/difficulty-summary-component\";\nimport {\n    EASY,\n    EASY_PLUS,\n    EASY_PLUS_PLUS,\n    HARD,\n    HARD_PLUS,\n    HARD_PLUS_PLUS,\n    NORMAL,\n    NORMAL_PLUS,\n    NORMAL_PLUS_PLUS\n} from \"../../minesweeper/types/difficulty\";\nimport * as style from \"./stats-component.css\";\nimport { TotalSummaryComponent } from \"./summary/total-summary-component\";\nimport { todayOnlyAction } from \"../../stats/actions/today-only-action\";\nimport { useEffect } from \"preact/hooks\";\nimport { TitleUpdater } from \"../app-component\";\nimport { statsRouteProps } from \"./stats-route-props\";\n\ninterface Props {\n    stats: Stats;\n    dispatch: StatsDispatch;\n    updateTitle: TitleUpdater;\n}\n\nexport function StatsComponent(props: Props): h.JSX.Element {\n    const { stats, dispatch, updateTitle } = props;\n    const heading = stats.todayOnly ? \"Today\" : \"All Time\";\n\n    useEffect(function() {\n        updateTitle(statsRouteProps.title);\n    }, []);\n\n    function allTime(): void {\n        dispatch(todayOnlyAction(false));\n    }\n\n    function todayOnly(): void {\n        dispatch(todayOnlyAction(true));\n    }\n\n    return (\n        <div>\n            <div className={style.filters}>\n                <button id=\"allTimeButton\" onClick={allTime}>\n                    All Time\n                </button>\n                <button id=\"todayButton\" onClick={todayOnly}>\n                    Today\n                </button>\n            </div>\n            <h2>Game Stats: {heading}</h2>\n            <div className={style.summaries}>\n                <TotalSummaryComponent stats={stats} />\n            </div>\n            <div className={style.summaries}>\n                <DifficultySummaryComponent difficulty={EASY} stats={stats} />\n                <DifficultySummaryComponent\n                    difficulty={EASY_PLUS}\n                    stats={stats}\n                />\n                <DifficultySummaryComponent\n                    difficulty={EASY_PLUS_PLUS}\n                    stats={stats}\n                />\n            </div>\n            <div className={style.summaries}>\n                <DifficultySummaryComponent difficulty={NORMAL} stats={stats} />\n                <DifficultySummaryComponent\n                    difficulty={NORMAL_PLUS}\n                    stats={stats}\n                />\n                <DifficultySummaryComponent\n                    difficulty={NORMAL_PLUS_PLUS}\n                    stats={stats}\n                />\n            </div>\n            <div className={style.summaries}>\n                <DifficultySummaryComponent difficulty={HARD} stats={stats} />\n                <DifficultySummaryComponent\n                    difficulty={HARD_PLUS}\n                    stats={stats}\n                />\n                <DifficultySummaryComponent\n                    difficulty={HARD_PLUS_PLUS}\n                    stats={stats}\n                />\n            </div>\n            <small>ℹ️ Stats are only recorded for finished games!</small>\n        </div>\n    );\n}\n","import \"./index.css\";\nimport { AppComponent } from \"./components/app-component\";\n\nexport default AppComponent;\n","import { h } from \"preact\";\nimport { Route, Router } from \"preact-router\";\nimport { HeaderComponent } from \"./header/header-component\";\nimport { useReducer } from \"preact/hooks\";\nimport { gameReducer } from \"../minesweeper/game-reducer\";\nimport { resetGame } from \"../minesweeper/functions/reset-game\";\nimport { EASY } from \"../minesweeper/types/difficulty\";\nimport { statsReducer } from \"../stats/stats-reducer\";\nimport { loadStats } from \"../stats/functions/load-stats\";\nimport { MinesweeperComponent } from \"./minesweeper/minesweeper-component\";\nimport { StatsComponent } from \"./stats/stats-component\";\nimport { minesweeperRouteProps } from \"./minesweeper/minesweeper-route-props\";\nimport { statsRouteProps } from \"./stats/stats-route-props\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nif ((module as any).hot) {\n    // tslint:disable-next-line:no-var-requires\n    require(\"preact/debug\");\n}\n\nexport type TitleUpdater = (routeTitle: string) => void;\n\nexport function AppComponent(): h.JSX.Element {\n    const [game, gameDispatch] = useReducer(gameReducer, resetGame(EASY));\n    const [stats, statsDispatch] = useReducer(statsReducer, loadStats());\n\n    function updateTitle(routeTitle: string): void {\n        document.title = `Minesweeper Game - ${routeTitle}`;\n    }\n\n    function clearSelection(): void {\n        // touch devices have a selection behavior for long presses,\n        // since long presses are required to clear squares on touch devices,\n        // this will automatically get rid of the selection.\n        if (window.getSelection) {\n            const selection = window.getSelection();\n            if (!selection) {\n                return;\n            } else if (selection.empty) {\n                selection.empty();\n            } else if (selection.removeAllRanges) {\n                selection.removeAllRanges();\n            }\n        }\n    }\n\n    return (\n        <div id=\"app\" onTouchStart={clearSelection} onTouchEnd={clearSelection}>\n            <HeaderComponent />\n            <main>\n                <Router>\n                    <Route\n                        path={minesweeperRouteProps.path}\n                        component={MinesweeperComponent}\n                        game={game}\n                        dispatch={gameDispatch}\n                        statsDispatch={statsDispatch}\n                        updateTitle={updateTitle}\n                    />\n                    <Route\n                        path={statsRouteProps.path}\n                        component={StatsComponent}\n                        stats={stats}\n                        dispatch={statsDispatch}\n                        updateTitle={updateTitle}\n                    />\n                </Router>\n            </main>\n        </div>\n    );\n}\n","import { Stats } from \"../types/stats\";\n\nfunction defaultStats(): Stats {\n    return {\n        todayOnly: false,\n        results: []\n    };\n}\n\nexport function loadStats(): Stats {\n    try {\n        const stats = localStorage.getItem(\"stats\");\n        return stats ? JSON.parse(stats) : defaultStats();\n    } catch (e) {\n        // local storage isn't available for whatever reason.\n        return defaultStats();\n    }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_2tGRj5bs7uYqlzSGBMmPPR\",\"button\":\"M55u8jseqpiRvO8OrvA5V\",\"flag\":\"_1gIhCK9fRlxlyHhmZgatwm\",\"buttonActive\":\"uXdgHtVoMo8yafW5O5db6\",\"wiggleKeyFrames\":\"_3KP_mK2-6avCTTBTjb_8yS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"_33-IbutgyWRwLt_gWzvZis\",\"dimensions\":\"_18SnD1rGNcrxnZq-n-d05A\",\"statLines\":\"Ybm_DtfNw9UTM7TKs0u6o\"};","\nconst EMPTY = {};\n\nexport function assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (let i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nexport function exec(url, route, opts) {\n\tlet reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tlet p = c[1].split('&');\n\t\tfor (let i=0; i<p.length; i++) {\n\t\t\tlet r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tlet max = Math.max(url.length, route.length);\n\tfor (let i=0; i<max; i++) {\n\t\tif (route[i] && route[i].charAt(0)===':') {\n\t\t\tlet param = route[i].replace(/(^:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i].match(/[+*?]+$/) || EMPTY)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i]!==url[i]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) return false;\n\treturn matches;\n}\n\nexport function pathRankSort(a, b) {\n\treturn (\n\t\t(a.rank < b.rank) ? 1 :\n\t\t\t(a.rank > b.rank) ? -1 :\n\t\t\t\t(a.index - b.index)\n\t);\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nexport function prepareVNodeForRanking(vnode, index) {\n\tvnode.index = index;\n\tvnode.rank = rankChild(vnode);\n\treturn vnode.props;\n}\n\nexport function segmentize(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nexport function rankSegment(segment) {\n\treturn segment.charAt(0)==':' ? (1 + '*+?'.indexOf(segment.charAt(segment.length-1))) || 4 : 5;\n}\n\nexport function rank(path) {\n\treturn segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n\treturn vnode.props.default ? 0 : rank(vnode.props.path);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"_1147OUGNeAYI9AR67l3M_F\",\"emoji\":\"_3kTdVpLwURv5ZCG1BkEjnu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_1b7DgXfDW-verlutAJs4J9\",\"hide\":\"_3EXH8HVfi73vqzQt9mlNau\",\"timer\":\"_2cFb60-Inj7n2JffQx2qGk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hidden\":\"_Q0GAmu13cSZrgEnyTAmu\",\"flagged\":\"US-_EuLNQM_x57Ro2nIFI\",\"flagging\":\"_2V8IhtMNCWBKfUkHLq5x9g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"revealed\":\"_2DsiIUj-2FFGFi7RoW5Ess\",\"mine\":\"_1kCDhNVeofrqWmInXchJTz\",\"mineKeyFrames\":\"_2cqgmlXYZG0kg5yquOBFkS\",\"win\":\"_2PfFxuh60roKG5A8khyu9Q\",\"winKeyFrames\":\"h0jr41_I_MWtLngRN6BYL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"_1iZAthx1--rn2vXXViQBvR\",\"row\":\"_2E5SJFgFMk9ds9xu9z9DJg\"};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.Link = exports.Match = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _preact = require('preact');\n\nvar _preactRouter = require('preact-router');\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Match = exports.Match = function (_Component) {\n\t_inherits(Match, _Component);\n\n\tfunction Match() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Match);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.update = function (url) {\n\t\t\t_this.nextUrl = url;\n\t\t\t_this.setState({});\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tMatch.prototype.componentDidMount = function componentDidMount() {\n\t\t_preactRouter.subscribers.push(this.update);\n\t};\n\n\tMatch.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\t_preactRouter.subscribers.splice(_preactRouter.subscribers.indexOf(this.update) >>> 0, 1);\n\t};\n\n\tMatch.prototype.render = function render(props) {\n\t\tvar url = this.nextUrl || (0, _preactRouter.getCurrentUrl)(),\n\t\t    path = url.replace(/\\?.+$/, '');\n\t\tthis.nextUrl = null;\n\t\treturn props.children({\n\t\t\turl: url,\n\t\t\tpath: path,\n\t\t\tmatches: (0, _preactRouter.exec)(path, props.path, {}) !== false\n\t\t});\n\t};\n\n\treturn Match;\n}(_preact.Component);\n\nvar Link = function Link(_ref) {\n\tvar activeClassName = _ref.activeClassName,\n\t    path = _ref.path,\n\t    props = _objectWithoutProperties(_ref, ['activeClassName', 'path']);\n\n\treturn (0, _preact.h)(\n\t\tMatch,\n\t\t{ path: path || props.href },\n\t\tfunction (_ref2) {\n\t\t\tvar matches = _ref2.matches;\n\t\t\treturn (0, _preact.h)(_preactRouter.Link, _extends({}, props, { 'class': [props.class || props.className, matches && activeClassName].filter(Boolean).join(' ') }));\n\t\t}\n\t);\n};\n\nexports.Link = Link;\nexports.default = Match;\n\nMatch.Link = Link;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reset\":\"_303JYRLJg4VzbyGKJU51qa\",\"select\":\"KS4wxcDiOEwvDlDi2TXjU\",\"submit\":\"A1h7SpH0K5N1vl8CA2vHT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line\":\"PofOX2RH2Z_90zB7Zo0XQ\",\"label\":\"_2uY5e-AnVt-UVEcoPX346e\",\"value\":\"gEea82ovAsLZdQhY36cFT\"};"],"sourceRoot":""}
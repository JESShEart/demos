{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/minesweeper/minesweeper-component.css","webpack:///./components/minesweeper/square/square-component.css","webpack:///./components/stats/stats-component.css","webpack:///./components/header/header-component.css","webpack:///./components/header/header-component.tsx","webpack:///../src/index.js","webpack:///./minesweeper/game-reducer.ts","webpack:///./minesweeper/functions/get-adjacent-squares.ts","webpack:///./minesweeper/functions/create-board.ts","webpack:///./minesweeper/functions/reset-game.ts","webpack:///./stats/stats-reducer.ts","webpack:///./minesweeper/functions/reveal-mines.ts","webpack:///./minesweeper/functions/reveal.ts","webpack:///./minesweeper/functions/create-game.ts","webpack:///./minesweeper/functions/get-status.ts","webpack:///./stats/functions/save-stats.ts","webpack:///./stats/functions/log-result.ts","webpack:///./stats/actions/log-result-action.ts","webpack:///./minesweeper/functions/toggle-flagged-square.ts","webpack:///./components/minesweeper/square/hidden-square-component.tsx","webpack:///./minesweeper/actions/toggle-flagged-square-action.ts","webpack:///./minesweeper/actions/reveal-action.ts","webpack:///./components/minesweeper/square/revealed-square-component.tsx","webpack:///./components/minesweeper/square/square-component.tsx","webpack:///./components/minesweeper/board/board-component.tsx","webpack:///./components/minesweeper/reset/reset-component.tsx","webpack:///./minesweeper/actions/reset-action.ts","webpack:///./components/minesweeper/status/status-component.tsx","webpack:///./minesweeper/functions/to-hours-minutes-seconds.ts","webpack:///./components/minesweeper/timer/timer-component.tsx","webpack:///./minesweeper/functions/toggle-flagging.ts","webpack:///./components/minesweeper/flagging-toggle/flagging-toggle-component.tsx","webpack:///./minesweeper/actions/toggle-flagging-action.ts","webpack:///./components/minesweeper/minesweeper-component.tsx","webpack:///./components/stats/stat-line/stat-line-component.tsx","webpack:///./stats/functions/get-relevant-results.ts","webpack:///./stats/functions/get-win-rate.ts","webpack:///./stats/functions/get-total-time.ts","webpack:///./stats/functions/get-winning-times.ts","webpack:///./stats/functions/get-difficulty-summary.ts","webpack:///./components/stats/summary/difficulty-summary-component.tsx","webpack:///./stats/functions/get-total-summary.ts","webpack:///./components/stats/summary/total-summary-component.tsx","webpack:///./stats/functions/today-only.ts","webpack:///./stats/actions/today-only-action.ts","webpack:///./components/stats/stats-component.tsx","webpack:///./components/minesweeper/minesweeper-route-props.ts","webpack:///./components/stats/stats-route-props.ts","webpack:///./minesweeper/types/difficulty.ts","webpack:///./index.js","webpack:///./components/app-component.tsx","webpack:///./stats/functions/load-stats.ts","webpack:///./components/minesweeper/flagging-toggle/flagging-toggle-component.css","webpack:///./components/stats/summary/summary-component.css","webpack:///../src/util.js","webpack:///./components/minesweeper/status/status-component.css","webpack:///./components/minesweeper/timer/timer-component.css","webpack:///./components/minesweeper/square/hidden-square-component.css","webpack:///./components/minesweeper/square/revealed-square-component.css","webpack:///./components/minesweeper/board/board-component.css","webpack:///../src/create-element.js","webpack:///../src/component.js","webpack:///../src/diff/children.js","webpack:///../src/diff/props.js","webpack:///../src/diff/index.js","webpack:///../src/render.js","webpack:///../src/clone-element.js","webpack:///../src/create-context.js","webpack:///../src/constants.js","webpack:///../src/options.js","webpack:///../src/diff/catch-error.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js","webpack:///../node_modules/preact-router/match.js","webpack:///./components/minesweeper/reset/reset-component.css","webpack:///./components/stats/stat-line/stat-line-component.css"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","HeaderComponent","className","style","activeClassName","href","minesweeperRouteProps","statsRouteProps","getHookState","index","type","options","_hook","currentComponent","currentHook","hooks","__hooks","_list","_pendingEffects","length","push","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","currentIndex","_component","_value","nextValue","action","setState","useEffect","callback","args","state","_skipEffects","argsChanged","_args","flushAfterPaintEffects","afterPaintEffects","some","component","_parentDom","forEach","invokeCleanup","invokeEffect","e","_catchError","_vnode","hook","_cleanup","result","oldArgs","newArgs","arg","f","gameReducer","game","getAdjacentSquares","square","squares","width","height","x","y","filter","position","realPosition","getAdjacentPositions","map","getAdjacentMines","reduce","adjacentMines","mine","createBoard","mineRatio","minedBoard","row","markAdjacentMines","emptyBoard","Math","floor","random","setMinesAndPositions","Array","fill","revealed","flagged","createEmptyBoard","resetGame","difficulty","board","status","difficultyName","flagging","startedAt","finishedAt","statsReducer","stats","revealMines","getAdjacentSquaresToReveal","getPositionToReveal","squaresWithAdjacentToReveal","adjacentSquareToReveal","undefined","find","adjacentSquaresToReveal","hasAdjacentSquaresToReveal","revealBoard","currentSquare","reveal","gameStarted","mineRevealed","nonMineNotRevealed","findStatusProof","finished","finishedStatus","Date","now","createGame","saveStats","localStorage","setItem","JSON","stringify","gameResult","Error","win","logResultAction","todayOnly","results","logResult","toggleFlaggedSquare","toggleSquareFlagged","HiddenSquareComponent","props","blur","document","activeElement","HTMLElement","dispatch","statsDispatch","disabled","flaggedClass","flaggingClass","squareStyle","onClick","toggleFlaggedSquareAction","updatedGame","revealAction","RevealedSquareComponent","mineImgSrc","src","alt","SquareComponent","BoardComponent","renderRow","renderSquare","ResetComponent","updateDifficulty","onSubmit","preventDefault","resetAction","HARD","NORMAL","EASY","getResetDifficultyValue","onInput","currentTarget","DIFFICULTIES","displayName","StatusComponent","title","description","emoji","zeroPad","slice","toHoursMinutesSeconds","millis","showMinutes","abs","h","toAbsHoursMinutesSeconds","computeElapsedTime","TimerComponent","elapsedTime","setElapsedTime","hiddenClass","timer","window","setInterval","clearInterval","toggleFlagging","FlaggingToggleComponent","onKeyPress","buttonFlaggingClass","addEventListener","removeEventListener","MinesweeperComponent","updateTitle","StatLineComponent","label","getRelevantResults","today","setHours","getTime","startOfToday","getWinRate","wins","games","round","toFixed","getTotalTime","times","total","time","getWinningTimes","getDifficultySummary","totalTime","averageMillis","winningTimes","winRate","fastestTime","getFastestTime","averageTime","DifficultySummaryComponent","summary","getTotalSummary","totalTimeMillis","getAllTimes","getTotalPlayTime","TotalSummaryComponent","updatedStats","todayOnlyAction","todayOnlyValue","StatsComponent","heading","id","prevRaf","oldBeforeRender","_render","oldAfterDiff","diffed","oldCommit","_commit","oldBeforeUnmount","unmount","vnode","requestAnimationFrame","raf","done","clearTimeout","timeout","cancelAnimationFrame","setTimeout","commitQueue","_renderCallbacks","cb","AppComponent","routeTitle","gameDispatch","getItem","parse","loadStats","path","let","EMPTY","getCurrentUrl","url","customHistory","location","getCurrentLocation","pathname","search","route","replace","ROUTERS","canRoute","history","setUrl","routeTo","didRoute","subscribers","routeFromLink","node","getAttribute","target","match","handleLinkClick","ctrlKey","metaKey","altKey","shiftKey","button","this","prevent","stopImmediatePropagation","stopPropagation","delegateLinkHandler","String","nodeName","toUpperCase","hasAttribute","parentNode","eventListenersInitialized","Router","super","shouldComponentUpdate","static","onChange","const","children","getMatchingChildren","updating","forceUpdate","componentWillMount","componentDidMount","unlisten","listen","componentWillUnmount","splice","indexOf","componentWillUpdate","componentDidUpdate","invoke","prepareVNodeForRanking","sort","pathRankSort","matches","exec","newProps","assign","ref","Boolean","render","active","current","previous","previousUrl","router","Link","Route","obj","removeNode","removeChild","createElement","normalizedProps","arguments","defaultProps","createVNode","original","_children","_parent","_depth","_dom","_nextDom","constructor","_original","createRef","Fragment","Component","context","getDomSibling","childIndex","sibling","updateParentDomPointers","child","base","enqueueRender","_dirty","rerenderQueue","rerenderCount","prevDebounce","debounceRendering","defer","process","queue","a","b","oldVNode","newDom","oldDom","parentDom","diff","_globalContext","ownerSVGElement","commitRoot","diffChildren","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","sibDom","firstChildDom","refs","oldChildren","EMPTY_ARR","oldChildrenLength","EMPTY_OBJ","toChildArray","childVNode","nextDom","outer","appendChild","nextSibling","insertBefore","applyRef","flattened","isArray","setStyle","setProperty","IS_NON_DIMENSIONAL","test","dom","oldValue","useCapture","nameLower","cssText","toLowerCase","eventProxy","_listeners","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","event","newVNode","tmp","isNew","oldProps","oldState","snapshot","clearProcessingException","provider","componentContext","newType","_diff","contextType","_id","_defaultValue","_processingException","_pendingError","doRender","sub","_nextState","getDerivedStateFromProps","componentWillReceiveProps","_force","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","root","oldHtml","newHtml","nodeType","localName","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","hydrate","diffProps","checked","parentVNode","skipRemove","replaceNode","_root","IS_HYDRATE","cloneElement","createContext","defaultValue","ctx","Consumer","Provider","subs","_this","_props","old","_contextRef","isValidElement","error","hasCaught","getDerivedStateFromError","componentDidCatch","update","Promise","then","resolve","Preact","interopDefault","default","navigator","serviceWorker","register","__webpack_public_path__","require","getElementById","body","firstElementChild","app","preRenderData","inlineDataElement","querySelector","currentURL","canHydrate","CLI_DATA","_possibleConstructorReturn","self","ReferenceError","Match","_extends","source","_preact","_preactRouter","_Component","_temp","_len","_key","apply","concat","nextUrl","subClass","superClass","TypeError","writable","configurable","setPrototypeOf","__proto__","_inherits","_ref","keys","_objectWithoutProperties","_ref2","class","join"],"mappings":"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","file":"bundle.ce7b9.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/demos/minesweeper/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"mdyV\");\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topRow\":\"NbAnYrWSfkuenLuTJ6QS5\",\"bottomRow\":\"_2p47jEkoTBrzYEJW6FmyjW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"d_mFF1jruGjQl7_HGI8X_\",\"square\":\"_3BBjZ1LPKgQUmtc8IO0vSh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"_1cWFJaZg9-KUzz2-tn8yCU\",\"summaries\":\"_2G422t4yLLZ-TCrtj4fWkT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_3oiVJRdVy6_Sqo1_K0EJ7o\",\"active\":\"_2VNCoyd6uprVuGrsbL3h4C\"};","import { h } from \"preact\";\nimport { Link } from \"preact-router/match\";\nimport * as style from \"./header-component.css\";\nimport { minesweeperRouteProps } from \"../minesweeper/minesweeper-route-props\";\nimport { statsRouteProps } from \"../stats/stats-route-props\";\n\nexport function HeaderComponent(): h.JSX.Element {\n    return (\n        <header className={style.header}>\n            <h1>Minesweeper Game</h1>\n            <nav>\n                <Link\n                    activeClassName={style.active}\n                    href={minesweeperRouteProps.path}\n                >\n                    {minesweeperRouteProps.title}\n                </Link>\n                <Link\n                    activeClassName={style.active}\n                    href={statsRouteProps.path}\n                >\n                    {statsRouteProps.title}\n                </Link>\n            </nav>\n        </header>\n    );\n}\n","import { cloneElement, createElement, Component, toChildArray } from 'preact';\nimport { exec, prepareVNodeForRanking, assign, pathRankSort } from './util';\n\nlet customHistory = null;\n\nconst ROUTERS = [];\n\nconst subscribers = [];\n\nconst EMPTY = {};\n\nfunction setUrl(url, type='push') {\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tlet url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn `${url.pathname || ''}${url.search || ''}`;\n}\n\n\n\nfunction route(url, replace=false) {\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (let i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) return true;\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tlet didRoute = false;\n\tfor (let i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (let i=subscribers.length; i--; ) {\n\t\tsubscribers[i](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) return;\n\n\tlet href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) return;\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\trouteFromLink(e.currentTarget || e.target || this);\n\treturn prevent(e);\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) e.stopImmediatePropagation();\n\t\tif (e.stopPropagation) e.stopPropagation();\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\n\tlet t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('native')) return;\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nlet eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) return;\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', () => {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nclass Router extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tshouldComponentUpdate(props) {\n\t\tif (props.static!==true) return true;\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t}\n\n\t/** Check if the given URL can be matched against any children */\n\tcanRoute(url) {\n\t\tconst children = toChildArray(this.props.children);\n\t\treturn this.getMatchingChildren(children, url, false).length > 0;\n\t}\n\n\t/** Re-render children with a new URL to match against. */\n\trouteTo(url) {\n\t\tthis.setState({ url });\n\n\t\tconst didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this.updating) this.forceUpdate();\n\n\t\treturn didRoute;\n\t}\n\n\tcomponentWillMount() {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen((location) => {\n\t\t\t\tthis.routeTo(`${location.pathname || ''}${location.search || ''}`);\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (typeof this.unlisten==='function') this.unlisten();\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t}\n\n\tcomponentWillUpdate() {\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updating = false;\n\t}\n\n\tgetMatchingChildren(children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( vnode => {\n\t\t\t\tlet matches = exec(url, vnode.props.path, vnode.props);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tlet newProps = { url, matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t}\n\n\trender({ children, onChange }, { url }) {\n\t\tlet active = this.getMatchingChildren(toChildArray(children), url, true);\n\n\t\tlet current = active[0] || null;\n\n\t\tlet previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl,\n\t\t\t\t\tprevious,\n\t\t\t\t\tactive,\n\t\t\t\t\tcurrent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t}\n}\n\nconst Link = (props) => (\n\tcreateElement('a', assign({ onClick: handleLinkClick }, props))\n);\n\nconst Route = props => createElement(props.component, props);\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\nRouter.exec = exec;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link, exec };\nexport default Router;\n","import { Game } from \"./types/game\";\n\nexport type GameReducer = (game: Game) => Game;\n\nexport type GameDispatch = (action: GameReducer) => void;\n\nexport function gameReducer(game: Game, action: GameReducer): Game {\n    return action(game);\n}\n","import { Position } from \"../types/position\";\nimport { Square } from \"../types/square\";\n\nfunction realPosition(\n    { x, y }: Position,\n    width: number,\n    height: number\n): boolean {\n    return x >= 0 && y >= 0 && x < width && y < height;\n}\n\nfunction getAdjacentPositions(\n    { x, y }: Position,\n    width: number,\n    height: number\n): Position[] {\n    return [\n        // row above\n        { x: x - 1, y: y - 1 },\n        { x, y: y - 1 },\n        { x: x + 1, y: y - 1 },\n        // same row\n        { x: x - 1, y },\n        { x: x + 1, y },\n        // row below\n        { x: x - 1, y: y + 1 },\n        { x, y: y + 1 },\n        { x: x + 1, y: y + 1 }\n    ].filter(position => realPosition(position, width, height));\n}\n\nexport function getAdjacentSquares(\n    square: Square,\n    squares: Square[][]\n): Square[] {\n    return getAdjacentPositions(\n        square.position,\n        squares[0].length,\n        squares.length\n    ).map(({ x, y }) => squares[y][x]);\n}\n","import { Square } from \"../types/square\";\nimport { getAdjacentSquares } from \"./get-adjacent-squares\";\n\nfunction createEmptyBoard(height: number, width: number): Square[][] {\n    return new Array<Square[]>(height).fill(\n        new Array<Square>(width).fill({\n            position: { x: 0, y: 0 },\n            revealed: false,\n            flagged: false,\n            mine: false,\n            adjacentMines: 0\n        })\n    );\n}\n\nfunction setMinesAndPositions(\n    emptyBoard: Square[][],\n    mineRatio: number\n): Square[][] {\n    return emptyBoard.map((row, y) =>\n        row.map((square, x) => ({\n            ...square,\n            position: { x, y },\n            mine: Math.floor(Math.random() * mineRatio) === 0\n        }))\n    );\n}\n\nfunction getAdjacentMines(square: Square, squares: Square[][]): number {\n    return getAdjacentSquares(square, squares).reduce(\n        (adjacentMines: number, { mine }: Square) =>\n            mine ? adjacentMines + 1 : adjacentMines,\n        square.mine ? 1 : 0\n    );\n}\n\nfunction markAdjacentMines(minedBoard: Square[][]): Square[][] {\n    return minedBoard.map(row =>\n        row.map(square => ({\n            ...square,\n            adjacentMines: getAdjacentMines(square, minedBoard)\n        }))\n    );\n}\n\nexport function createBoard(\n    height: number,\n    width: number,\n    mineRatio: number\n): Square[][] {\n    const emptyBoard = createEmptyBoard(height, width);\n    const minedBoard = setMinesAndPositions(emptyBoard, mineRatio);\n    return markAdjacentMines(minedBoard);\n}\n","import { Game } from \"../types/game\";\nimport { createBoard } from \"./create-board\";\nimport { Difficulty } from \"../types/difficulty\";\n\nexport function resetGame(difficulty: Difficulty): Game {\n    const { height, width, mineRatio, name } = difficulty;\n    return {\n        board: createBoard(height, width, mineRatio),\n        status: \"START\",\n        difficultyName: name,\n        flagging: false,\n        startedAt: null,\n        finishedAt: null\n    };\n}\n","import { Stats } from \"./types/stats\";\n\nexport type StatsReducer = (stats: Stats) => Stats;\n\nexport type StatsDispatch = (action: StatsReducer) => void;\n\nexport function statsReducer(stats: Stats, action: StatsReducer): Stats {\n    return action(stats);\n}\n","import { Square } from \"../types/square\";\n\nexport function revealMines(squares: Square[][]): Square[][] {\n    return squares.map(row =>\n        row.map(square => ({\n            ...square,\n            revealed: square.mine ? true : square.revealed\n        }))\n    );\n}\n","import { Square } from \"../types/square\";\nimport { getAdjacentSquares } from \"./get-adjacent-squares\";\nimport { createGame } from \"./create-game\";\nimport { Game } from \"../types/game\";\n\nfunction getAdjacentSquaresToReveal(\n    square: Square,\n    squares: Square[][]\n): Square[] {\n    return getAdjacentSquares(square, squares).filter(s =>\n        s.mine ? false : !s.revealed\n    );\n}\n\nfunction getPositionToReveal(\n    squaresWithAdjacentToReveal: Square[],\n    squares: Square[][]\n): Square | undefined {\n    let adjacentSquareToReveal: Square | undefined = undefined;\n    squaresWithAdjacentToReveal.find(square => {\n        const adjacentSquaresToReveal = getAdjacentSquaresToReveal(\n            square,\n            squares\n        );\n\n        adjacentSquareToReveal = adjacentSquaresToReveal.length\n            ? adjacentSquaresToReveal[0]\n            : undefined;\n\n        return !!adjacentSquareToReveal;\n    });\n    return adjacentSquareToReveal;\n}\n\nfunction hasAdjacentSquaresToReveal(\n    square: Square,\n    squares: Square[][]\n): boolean {\n    return (\n        square.adjacentMines === 0 &&\n        getAdjacentSquaresToReveal(square, squares).length > 0\n    );\n}\n\nexport function revealBoard(square: Square, squares: Square[][]): Square[][] {\n    let squaresWithAdjacentToReveal: Square[] = [];\n    let currentSquare: Square | undefined = square;\n\n    while (currentSquare) {\n        currentSquare.revealed = true;\n\n        if (hasAdjacentSquaresToReveal(currentSquare, squares)) {\n            squaresWithAdjacentToReveal = [\n                ...squaresWithAdjacentToReveal,\n                currentSquare\n            ];\n        } else {\n            squaresWithAdjacentToReveal = squaresWithAdjacentToReveal.filter(\n                s => s !== currentSquare\n            );\n        }\n\n        currentSquare = getPositionToReveal(\n            squaresWithAdjacentToReveal,\n            squares\n        );\n    }\n\n    return squares;\n}\n\nexport function reveal(square: Square, game: Game): Game {\n    return createGame({\n        ...game,\n        board: revealBoard(square, game.board),\n        startedAt: game.startedAt || Date.now()\n    });\n}\n","import { getStatus } from \"./get-status\";\nimport { revealMines } from \"./reveal-mines\";\nimport { GameStatus } from \"../types/game-status\";\nimport { Game } from \"../types/game\";\n\nfunction finishedStatus(status: GameStatus): boolean {\n    return status === \"FAIL\" || status === \"WIN\";\n}\n\nexport function createGame(game: Game): Game {\n    const { board, flagging, startedAt, difficultyName } = game;\n    const status = getStatus(board);\n    const finished = finishedStatus(status);\n    return {\n        board: finished ? revealMines(board) : board,\n        difficultyName,\n        status,\n        flagging,\n        startedAt,\n        finishedAt: finished ? Date.now() : null\n    };\n}\n","import { Square } from \"../types/square\";\nimport { GameStatus } from \"../types/game-status\";\n\ninterface StatusProof {\n    gameStarted: boolean;\n    mineRevealed: boolean;\n    nonMineNotRevealed: boolean;\n}\n\nfunction findStatusProof(squares: Square[][]): StatusProof {\n    let gameStarted = false;\n    let mineRevealed = false;\n    let nonMineNotRevealed = false;\n    squares.forEach(row =>\n        row.forEach(square => {\n            if (!gameStarted && square.revealed) {\n                gameStarted = true;\n            }\n            if (!mineRevealed && square.revealed && square.mine) {\n                mineRevealed = true;\n            }\n            if (!nonMineNotRevealed && !square.revealed && !square.mine) {\n                nonMineNotRevealed = true;\n            }\n        })\n    );\n    return { gameStarted, mineRevealed, nonMineNotRevealed };\n}\n\nexport function getStatus(squares: Square[][]): GameStatus {\n    const { gameStarted, mineRevealed, nonMineNotRevealed } = findStatusProof(\n        squares\n    );\n\n    if (!gameStarted) {\n        return \"START\";\n    } else if (mineRevealed) {\n        return \"FAIL\";\n    } else if (nonMineNotRevealed) {\n        return \"PLAY\";\n    } else {\n        return \"WIN\";\n    }\n}\n","import { Stats } from \"../types/stats\";\n\nexport function saveStats(stats: Stats): void {\n    try {\n        localStorage.setItem(\"stats\", JSON.stringify(stats));\n    } catch (e) {\n        // local storage isn't available for whatever reason.\n        // the stats will only exist in memory then.\n    }\n}\n","import { Game } from \"../../minesweeper/types/game\";\nimport { Stats } from \"../types/stats\";\nimport { Result } from \"../types/result\";\nimport { saveStats } from \"./save-stats\";\n\nfunction gameResult(game: Game): Result {\n    const { startedAt, finishedAt, difficultyName } = game;\n    if (!startedAt || !finishedAt) {\n        throw new Error(\"Game is unfinished!\");\n    }\n    return {\n        difficultyName: difficultyName,\n        win: game.status === \"WIN\",\n        startedAt,\n        finishedAt\n    };\n}\n\nexport function logResult({ todayOnly, results }: Stats, game: Game): Stats {\n    const stats: Stats = {\n        todayOnly,\n        results: [...results, gameResult(game)]\n    };\n    saveStats(stats);\n    return stats;\n}\n","import { Game } from \"../../minesweeper/types/game\";\nimport { Stats } from \"../types/stats\";\nimport { StatsReducer } from \"../stats-reducer\";\nimport { logResult } from \"../functions/log-result\";\n\nexport function logResultAction(game: Game): StatsReducer {\n    return function(stats: Stats): Stats {\n        return logResult(stats, game);\n    };\n}\n","import { Game } from \"../types/game\";\nimport { Square } from \"../types/square\";\n\nfunction toggleSquareFlagged(square: Square): Square {\n    return {\n        ...square,\n        flagged: !square.flagged\n    };\n}\n\nexport function toggleFlaggedSquare(square: Square, game: Game): Game {\n    const board = game.board.map(row =>\n        row.map(currentSquare =>\n            currentSquare.position.y === square.position.y &&\n            currentSquare.position.x === square.position.x\n                ? toggleSquareFlagged(currentSquare)\n                : currentSquare\n        )\n    );\n    return { ...game, board };\n}\n","import { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { h } from \"preact\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport { revealAction } from \"../../../minesweeper/actions/reveal-action\";\nimport * as squareStyle from \"./square-component.css\";\nimport * as style from \"./hidden-square-component.css\";\nimport { toggleFlaggedSquareAction } from \"../../../minesweeper/actions/toggle-flagged-square-action\";\nimport { StatsDispatch } from \"../../../stats/stats-reducer\";\n\ninterface Props {\n    square: Square;\n    status: GameStatus;\n    flagging: boolean;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n}\n\nexport function HiddenSquareComponent(props: Props): h.JSX.Element {\n    const { square, status, flagging, dispatch, statsDispatch } = props;\n    const disabled = status === \"FAIL\" || status === \"WIN\";\n    const flaggedClass = square.flagged ? style.flagged : \"\";\n    const flaggingClass = flagging ? style.flagging : \"\";\n\n    function blur(): void {\n        if (document.activeElement instanceof HTMLElement) {\n            document.activeElement.blur();\n        }\n    }\n\n    function reveal(): void {\n        if (flagging) {\n            dispatch(toggleFlaggedSquareAction(square));\n            blur();\n        } else if (!square.flagged) {\n            dispatch(revealAction(square, statsDispatch));\n            blur();\n        }\n    }\n\n    return (\n        <div className={squareStyle.square}>\n            <button\n                disabled={disabled}\n                className={`${squareStyle.square} ${style.hidden} ${flaggedClass} ${flaggingClass}`}\n                onClick={reveal}\n            />\n        </div>\n    );\n}\n","import { Game } from \"../types/game\";\nimport { Square } from \"../types/square\";\nimport { GameReducer } from \"../game-reducer\";\nimport { toggleFlaggedSquare } from \"../functions/toggle-flagged-square\";\n\nexport function toggleFlaggedSquareAction(square: Square): GameReducer {\n    return function(game: Game): Game {\n        return toggleFlaggedSquare(square, game);\n    };\n}\n","import { Game } from \"../types/game\";\nimport { Square } from \"../types/square\";\nimport { GameReducer } from \"../game-reducer\";\nimport { reveal } from \"../functions/reveal\";\nimport { StatsDispatch } from \"../../stats/stats-reducer\";\nimport { logResultAction } from \"../../stats/actions/log-result-action\";\n\nexport function revealAction(\n    square: Square,\n    statsDispatch: StatsDispatch\n): GameReducer {\n    return function(game: Game): Game {\n        const updatedGame = reveal(square, game);\n        if (!game.finishedAt && !!updatedGame.finishedAt) {\n            statsDispatch(logResultAction(updatedGame));\n        }\n        return updatedGame;\n    };\n}\n","import { h } from \"preact\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport * as squareStyle from \"./square-component.css\";\nimport * as style from \"./revealed-square-component.css\";\nimport { minesweeperRouteProps } from \"../minesweeper-route-props\";\n\ninterface Props {\n    square: Square;\n    status: GameStatus;\n}\n\nexport function RevealedSquareComponent(props: Props): h.JSX.Element {\n    const { status, square } = props;\n    const { mine, adjacentMines } = square;\n\n    function mineImg(): h.JSX.Element {\n        const winStyle = status === \"WIN\" ? style.win : \"\";\n        const className = ` ${winStyle} ${style.mine}`;\n        const rootPath = minesweeperRouteProps.path;\n        const mineImgSrc = `${rootPath}/assets/icons/mine.png`;\n        return <img className={className} src={mineImgSrc} alt=\"Mine\" />;\n    }\n\n    return (\n        <div className={`${squareStyle.square} ${style.revealed}`}>\n            {mine ? mineImg() : adjacentMines || \"\"}\n        </div>\n    );\n}\n","import { h } from \"preact\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { HiddenSquareComponent } from \"./hidden-square-component\";\nimport { RevealedSquareComponent } from \"./revealed-square-component\";\nimport * as style from \"./square-component.css\";\nimport { StatsDispatch } from \"../../../stats/stats-reducer\";\n\ninterface Props {\n    square: Square;\n    status: GameStatus;\n    flagging: boolean;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n}\n\nexport function SquareComponent(props: Props): h.JSX.Element {\n    const { square, status, flagging, dispatch, statsDispatch } = props;\n    const { revealed } = square;\n\n    function revealedSquare(): h.JSX.Element {\n        return <RevealedSquareComponent square={square} status={status} />;\n    }\n\n    function hiddenSquare(): h.JSX.Element {\n        return (\n            <HiddenSquareComponent\n                square={square}\n                status={status}\n                flagging={flagging}\n                dispatch={dispatch}\n                statsDispatch={statsDispatch}\n            />\n        );\n    }\n\n    return (\n        <div className={style.container}>\n            {revealed ? revealedSquare() : hiddenSquare()}\n        </div>\n    );\n}\n","import { h } from \"preact\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport { SquareComponent } from \"../square/square-component\";\nimport * as style from \"./board-component.css\";\nimport { Game } from \"../../../minesweeper/types/game\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { StatsDispatch } from \"../../../stats/stats-reducer\";\n\ninterface Props {\n    game: Game;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n}\n\nexport function BoardComponent(props: Props): h.JSX.Element {\n    const { game, dispatch, statsDispatch } = props;\n    const { status, board, flagging } = game;\n\n    function renderSquare(square: Square): h.JSX.Element {\n        return (\n            <SquareComponent\n                square={square}\n                status={status}\n                flagging={flagging}\n                dispatch={dispatch}\n                statsDispatch={statsDispatch}\n            />\n        );\n    }\n\n    function renderRow(row: Square[]): h.JSX.Element {\n        return (\n            <div className={style.row}>\n                {row.map(square => renderSquare(square))}\n            </div>\n        );\n    }\n\n    return (\n        <div className={style.board}>{board.map(row => renderRow(row))}</div>\n    );\n}\n","import { h } from \"preact\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { useState } from \"preact/hooks\";\nimport { resetAction } from \"../../../minesweeper/actions/reset-action\";\nimport * as style from \"./reset-component.css\";\nimport {\n    DIFFICULTIES,\n    Difficulty,\n    DifficultyName,\n    EASY,\n    HARD,\n    NORMAL\n} from \"../../../minesweeper/types/difficulty\";\n\ninterface Props {\n    dispatch: GameDispatch;\n}\n\nexport function ResetComponent(props: Props): h.JSX.Element {\n    const { dispatch } = props;\n    const [difficulty, updateDifficulty] = useState(\"EASY\" as DifficultyName);\n\n    function getResetDifficultyValue(): Difficulty {\n        switch (difficulty) {\n            case \"HARD\":\n                return HARD;\n            case \"NORMAL\":\n                return NORMAL;\n            case \"EASY\":\n                return EASY;\n        }\n    }\n\n    function reset(e: h.JSX.TargetedEvent): void {\n        e.preventDefault();\n        dispatch(resetAction(getResetDifficultyValue()));\n    }\n\n    function onDifficultyInput(\n        e: h.JSX.TargetedEvent<HTMLSelectElement, Event>\n    ): void {\n        updateDifficulty(e.currentTarget.value as DifficultyName);\n    }\n\n    function difficultyOption(d: Difficulty): h.JSX.Element {\n        const { name, displayName, width, height } = d;\n        return (\n            <option value={name}>\n                {displayName} ({width}x{height})\n            </option>\n        );\n    }\n\n    return (\n        <div className={style.reset}>\n            <form onSubmit={reset}>\n                <select\n                    className={style.select}\n                    value={difficulty}\n                    onInput={onDifficultyInput}\n                >\n                    {DIFFICULTIES.map(difficultyOption)}\n                </select>\n                <button className={style.submit} type=\"submit\">\n                    Reset\n                </button>\n            </form>\n        </div>\n    );\n}\n","import { Game } from \"../types/game\";\nimport { GameReducer } from \"../game-reducer\";\nimport { resetGame } from \"../functions/reset-game\";\nimport { Difficulty } from \"../types/difficulty\";\n\nexport function resetAction(difficulty: Difficulty): GameReducer {\n    return function(): Game {\n        return resetGame(difficulty);\n    };\n}\n","import { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { h } from \"preact\";\nimport * as style from \"./status-component.css\";\n\ninterface Props {\n    status: GameStatus;\n}\n\nexport function StatusComponent(props: Props): h.JSX.Element {\n    const { status } = props;\n\n    function description(): string {\n        switch (status) {\n            case \"START\":\n                return \"\";\n            case \"PLAY\":\n                return \"Game in progress...\";\n            case \"FAIL\":\n                return \"You lost!  Please, try again!\";\n            case \"WIN\":\n                return \"You won!\";\n        }\n    }\n\n    function emoji(): string {\n        switch (status) {\n            case \"START\":\n                return \"🙂\";\n            case \"PLAY\":\n                return \"🤔\";\n            case \"FAIL\":\n                return \"😵\";\n            case \"WIN\":\n                return \"😎\";\n        }\n    }\n\n    return (\n        <div className={style.status}>\n            <div className={style.emoji} title={description()}>\n                {emoji()}\n            </div>\n        </div>\n    );\n}\n","function zeroPad(d: number): string {\n    return `0${d}`.slice(-2);\n}\n\nfunction toAbsHoursMinutesSeconds(\n    millis: number,\n    showMinutes: boolean\n): string {\n    const d = Math.floor(Math.abs(millis) / 1000);\n    const h = Math.floor(d / 3600);\n    const m = Math.floor((d % 3600) / 60);\n    const s = Math.floor((d % 3600) % 60);\n\n    if (h > 0) {\n        return `${h}:${zeroPad(m)}:${zeroPad(s)}`;\n    } else if (showMinutes || m > 0) {\n        return `${m}:${zeroPad(s)}`;\n    } else {\n        return `${s}`;\n    }\n}\n\nexport function toHoursMinutesSeconds(\n    millis: number,\n    showMinutes = false\n): string {\n    const sign = millis < 0 ? \"-\" : \"\";\n    const absHoursMinutesSeconds = toAbsHoursMinutesSeconds(\n        millis,\n        showMinutes\n    );\n    return `${sign}${absHoursMinutesSeconds}`;\n}\n","import { h } from \"preact\";\nimport * as style from \"./timer-component.css\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { toHoursMinutesSeconds } from \"../../../minesweeper/functions/to-hours-minutes-seconds\";\n\ninterface Props {\n    startedAt: number | null;\n    finishedAt: number | null;\n}\n\nfunction computeElapsedTime(\n    startedAt: number | null,\n    finishedAt: number | null\n): number {\n    if (startedAt === null) {\n        return 0;\n    } else if (finishedAt === null) {\n        return Date.now() - startedAt;\n    } else {\n        return finishedAt - startedAt;\n    }\n}\n\nexport function TimerComponent(props: Props): h.JSX.Element {\n    const { startedAt, finishedAt } = props;\n    const [elapsedTime, setElapsedTime] = useState<number>(\n        computeElapsedTime(startedAt, finishedAt)\n    );\n    const hiddenClass = startedAt !== null ? \"\" : style.hide;\n\n    useEffect(function() {\n        const timer = window.setInterval(function(): void {\n            setElapsedTime(computeElapsedTime(startedAt, finishedAt));\n        }, 100);\n        return function(): void {\n            clearInterval(timer);\n        };\n    });\n\n    return (\n        <div className={`${style.container} ${hiddenClass}`}>\n            <div className={style.timer}>\n                {toHoursMinutesSeconds(elapsedTime)}&nbsp;⏱\n            </div>\n        </div>\n    );\n}\n","import { Game } from \"../types/game\";\n\nexport function toggleFlagging(game: Game): Game {\n    return {\n        ...game,\n        flagging: !game.flagging\n    };\n}\n","import { h } from \"preact\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport * as style from \"./flagging-toggle-component.css\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { toggleFlaggingAction } from \"../../../minesweeper/actions/toggle-flagging-action\";\nimport { useEffect } from \"preact/hooks\";\n\ninterface Props {\n    status: GameStatus;\n    flagging: boolean;\n    dispatch: GameDispatch;\n}\n\nexport function FlaggingToggleComponent(props: Props): h.JSX.Element {\n    const { status, flagging, dispatch } = props;\n    const buttonFlaggingClass = flagging ? style.buttonActive : \"\";\n    const disabled = status === \"WIN\" || status === \"FAIL\";\n\n    function toggleFlagging(): void {\n        if (!disabled) {\n            dispatch(toggleFlaggingAction());\n        }\n    }\n\n    function onKeyPress(e: KeyboardEvent): void {\n        if (e.key === \"f\") {\n            toggleFlagging();\n        }\n    }\n\n    useEffect(function() {\n        document.addEventListener(\"keydown\", onKeyPress);\n        return function(): void {\n            document.removeEventListener(\"keydown\", onKeyPress);\n        };\n    });\n\n    return (\n        <div className={`${style.container} ${buttonFlaggingClass}`}>\n            <button\n                onClick={toggleFlagging}\n                disabled={disabled}\n                className={style.button}\n                title=\"Toggle flagging mines (Press F for shortcut)\"\n            >\n                <span className={style.flag}>🚩</span>\n            </button>\n        </div>\n    );\n}\n","import { GameReducer } from \"../game-reducer\";\nimport { Game } from \"../types/game\";\nimport { toggleFlagging } from \"../functions/toggle-flagging\";\n\nexport function toggleFlaggingAction(): GameReducer {\n    return function(game: Game): Game {\n        return toggleFlagging(game);\n    };\n}\n","import { h } from \"preact\";\nimport { GameDispatch } from \"../../minesweeper/game-reducer\";\nimport { BoardComponent } from \"./board/board-component\";\nimport { ResetComponent } from \"./reset/reset-component\";\nimport { Game } from \"../../minesweeper/types/game\";\nimport { StatusComponent } from \"./status/status-component\";\nimport * as style from \"./minesweeper-component.css\";\nimport { TimerComponent } from \"./timer/timer-component\";\nimport { FlaggingToggleComponent } from \"./flagging-toggle/flagging-toggle-component\";\nimport { StatsDispatch } from \"../../stats/stats-reducer\";\nimport { useEffect } from \"preact/hooks\";\nimport { TitleUpdater } from \"../app-component\";\nimport { minesweeperRouteProps } from \"./minesweeper-route-props\";\n\ninterface Props {\n    game: Game;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n    updateTitle: TitleUpdater;\n}\n\nexport function MinesweeperComponent(props: Props): h.JSX.Element {\n    const { game, dispatch, statsDispatch, updateTitle } = props;\n    const { status, flagging, startedAt, finishedAt } = game;\n\n    useEffect(function() {\n        updateTitle(minesweeperRouteProps.title);\n    }, []);\n\n    return (\n        <div>\n            <div className={style.topRow}>\n                <StatusComponent status={status} />\n                <ResetComponent dispatch={dispatch} />\n                <TimerComponent startedAt={startedAt} finishedAt={finishedAt} />\n            </div>\n            <BoardComponent\n                game={game}\n                dispatch={dispatch}\n                statsDispatch={statsDispatch}\n            />\n            <div className={style.bottomRow}>\n                <FlaggingToggleComponent\n                    status={status}\n                    flagging={flagging}\n                    dispatch={dispatch}\n                />\n            </div>\n        </div>\n    );\n}\n","import { h } from \"preact\";\nimport * as style from \"./stat-line-component.css\";\n\ninterface Props {\n    label: string;\n    value: string | number;\n}\n\nexport function StatLineComponent(props: Props): h.JSX.Element {\n    const { label, value } = props;\n\n    return (\n        <div className={style.line}>\n            <div className={style.label}>\n                <strong>{label}</strong>\n            </div>\n            <div className={style.value}>{value}</div>\n        </div>\n    );\n}\n","import { Result } from \"../types/result\";\nimport { Stats } from \"../types/stats\";\nimport { Difficulty } from \"../../minesweeper/types/difficulty\";\n\nfunction startOfToday(): number {\n    const today = new Date(Date.now());\n    today.setHours(0, 0, 0, 0);\n    return today.getTime();\n}\n\nexport function getRelevantResults(\n    { results, todayOnly }: Stats,\n    difficulty?: Difficulty\n): Result[] {\n    const today = startOfToday();\n    return results.filter(result => {\n        if (difficulty && result.difficultyName !== difficulty.name) {\n            return false;\n        } else {\n            return !(todayOnly && result.finishedAt < today);\n        }\n    });\n}\n","export function getWinRate(wins: number, games: number): string {\n    const rate = games ? (wins / games) * 100 : 0;\n    const winRate = (Math.round(rate * 10) / 10).toFixed(1);\n    return `${winRate}%`;\n}\n","export function getTotalTime(times: number[]): number {\n    return times.reduce((total, time) => total + time, 0);\n}\n","import { Result } from \"../types/result\";\n\nexport function getWinningTimes(results: Result[]): number[] {\n    return results\n        .filter(result => result.win)\n        .map(result => result.finishedAt - result.startedAt);\n}\n","import { Stats } from \"../types/stats\";\nimport { Difficulty } from \"../../minesweeper/types/difficulty\";\nimport { getRelevantResults } from \"./get-relevant-results\";\nimport { toHoursMinutesSeconds } from \"../../minesweeper/functions/to-hours-minutes-seconds\";\nimport { getWinRate } from \"./get-win-rate\";\nimport { getTotalTime } from \"./get-total-time\";\nimport { DifficultySummary } from \"../types/difficulty-summary\";\nimport { getWinningTimes } from \"./get-winning-times\";\n\nfunction getFastestTime(times: number[]): string {\n    let fastestTime: number | null = null;\n    times.forEach(time => {\n        if (fastestTime === null || time < fastestTime) {\n            fastestTime = time;\n        }\n    });\n    return fastestTime ? toHoursMinutesSeconds(fastestTime, true) : \"-:--\";\n}\n\nfunction getAverageTime(times: number[]): string {\n    const totalTime = getTotalTime(times);\n    const averageMillis = Math.floor(totalTime / times.length);\n    return averageMillis ? toHoursMinutesSeconds(averageMillis, true) : \"-:--\";\n}\n\nexport function getDifficultySummary(\n    stats: Stats,\n    difficulty?: Difficulty\n): DifficultySummary {\n    const results = getRelevantResults(stats, difficulty);\n    const games = results.length;\n    const winningTimes = getWinningTimes(results);\n    const wins = winningTimes.length;\n    const winRate = getWinRate(wins, games);\n    const fastestTime = getFastestTime(winningTimes);\n    const averageTime = getAverageTime(winningTimes);\n    return { games, wins, winRate, fastestTime, averageTime };\n}\n","import { Stats } from \"../../../stats/types/stats\";\nimport { h } from \"preact\";\nimport { Difficulty } from \"../../../minesweeper/types/difficulty\";\nimport { StatLineComponent } from \"../stat-line/stat-line-component\";\nimport * as style from \"./summary-component.css\";\nimport { getDifficultySummary } from \"../../../stats/functions/get-difficulty-summary\";\n\ninterface Props {\n    stats: Stats;\n    difficulty: Difficulty;\n}\n\nexport function DifficultySummaryComponent(props: Props): h.JSX.Element {\n    const { stats, difficulty } = props;\n    const summary = getDifficultySummary(stats, difficulty);\n    const { games, wins, winRate, fastestTime, averageTime } = summary;\n\n    return (\n        <div className={style.summary}>\n            <h3>\n                {difficulty.displayName}{\" \"}\n                <span className={style.dimensions}>\n                    ({difficulty.width}x{difficulty.height})\n                </span>\n            </h3>\n            <div className={style.statLines}>\n                <StatLineComponent label=\"Games\" value={games} />\n                <StatLineComponent label=\"Wins\" value={wins} />\n                <StatLineComponent label=\"Wins (%)\" value={winRate} />\n                <StatLineComponent label=\"Fastest Time\" value={fastestTime} />\n                <StatLineComponent label=\"Average Time\" value={averageTime} />\n            </div>\n        </div>\n    );\n}\n","import { Stats } from \"../types/stats\";\nimport { getRelevantResults } from \"./get-relevant-results\";\nimport { getWinRate } from \"./get-win-rate\";\nimport { getWinningTimes } from \"./get-winning-times\";\nimport { TotalSummary } from \"../types/total-summary\";\nimport { getTotalTime } from \"./get-total-time\";\nimport { Result } from \"../types/result\";\nimport { toHoursMinutesSeconds } from \"../../minesweeper/functions/to-hours-minutes-seconds\";\n\nexport function getAllTimes(results: Result[]): number[] {\n    return results.map(result => result.finishedAt - result.startedAt);\n}\n\nfunction getTotalPlayTime(results: Result[]): string {\n    const allTimes = getAllTimes(results);\n    const totalTimeMillis = getTotalTime(allTimes);\n    return totalTimeMillis\n        ? toHoursMinutesSeconds(totalTimeMillis, true)\n        : \"-:--\";\n}\n\nexport function getTotalSummary(stats: Stats): TotalSummary {\n    const results = getRelevantResults(stats);\n    const totalTime = getTotalPlayTime(results);\n    const games = results.length;\n    const wins = getWinningTimes(results).length;\n    const winRate = getWinRate(wins, games);\n    return { totalTime, games, wins, winRate };\n}\n","import { Stats } from \"../../../stats/types/stats\";\nimport { h } from \"preact\";\nimport * as style from \"./summary-component.css\";\nimport { StatLineComponent } from \"../stat-line/stat-line-component\";\nimport { getTotalSummary } from \"../../../stats/functions/get-total-summary\";\n\ninterface Props {\n    stats: Stats;\n}\n\nexport function TotalSummaryComponent(props: Props): h.JSX.Element {\n    const { stats } = props;\n    const { totalTime, games, wins, winRate } = getTotalSummary(stats);\n\n    return (\n        <div className={style.summary}>\n            <h3>All Modes</h3>\n            <div className={style.statLines}>\n                <StatLineComponent label=\"Games\" value={games} />\n                <StatLineComponent label=\"Wins\" value={wins} />\n                <StatLineComponent label=\"Wins (%)\" value={winRate} />\n                <StatLineComponent label=\"Total Play Time\" value={totalTime} />\n            </div>\n        </div>\n    );\n}\n","import { Stats } from \"../types/stats\";\nimport { saveStats } from \"./save-stats\";\n\nexport function todayOnly(stats: Stats, todayOnly: boolean): Stats {\n    const updatedStats: Stats = {\n        ...stats,\n        todayOnly\n    };\n    saveStats(updatedStats);\n    return updatedStats;\n}\n","import { Stats } from \"../types/stats\";\nimport { StatsReducer } from \"../stats-reducer\";\nimport { todayOnly } from \"../functions/today-only\";\n\nexport function todayOnlyAction(todayOnlyValue: boolean): StatsReducer {\n    return function(stats: Stats): Stats {\n        return todayOnly(stats, todayOnlyValue);\n    };\n}\n","import { h } from \"preact\";\nimport { Stats } from \"../../stats/types/stats\";\nimport { StatsDispatch } from \"../../stats/stats-reducer\";\nimport { DifficultySummaryComponent } from \"./summary/difficulty-summary-component\";\nimport { EASY, HARD, NORMAL } from \"../../minesweeper/types/difficulty\";\nimport * as style from \"./stats-component.css\";\nimport { TotalSummaryComponent } from \"./summary/total-summary-component\";\nimport { todayOnlyAction } from \"../../stats/actions/today-only-action\";\nimport { useEffect } from \"preact/hooks\";\nimport { TitleUpdater } from \"../app-component\";\nimport { statsRouteProps } from \"./stats-route-props\";\n\ninterface Props {\n    stats: Stats;\n    dispatch: StatsDispatch;\n    updateTitle: TitleUpdater;\n}\n\nexport function StatsComponent(props: Props): h.JSX.Element {\n    const { stats, dispatch, updateTitle } = props;\n    const heading = stats.todayOnly ? \"Today\" : \"All Time\";\n\n    useEffect(function() {\n        updateTitle(statsRouteProps.title);\n    }, []);\n\n    function allTime(): void {\n        dispatch(todayOnlyAction(false));\n    }\n\n    function todayOnly(): void {\n        dispatch(todayOnlyAction(true));\n    }\n\n    return (\n        <div>\n            <div className={style.filters}>\n                <button id=\"allTimeButton\" onClick={allTime}>\n                    All Time\n                </button>\n                <button id=\"todayButton\" onClick={todayOnly}>\n                    Today\n                </button>\n            </div>\n            <h2>Game Stats: {heading}</h2>\n            <div className={style.summaries}>\n                <TotalSummaryComponent stats={stats} />\n                <DifficultySummaryComponent difficulty={EASY} stats={stats} />\n                <DifficultySummaryComponent difficulty={NORMAL} stats={stats} />\n                <DifficultySummaryComponent difficulty={HARD} stats={stats} />\n            </div>\n            <small>ℹ️ Stats are only recorded for finished games!</small>\n        </div>\n    );\n}\n","import { RouteProps } from \"../route-props\";\n\nexport const minesweeperRouteProps: RouteProps = {\n    title: \"Play\",\n    path: \"/demos/minesweeper/\"\n};\n","import { RouteProps } from \"../route-props\";\n\nexport const statsRouteProps: RouteProps = {\n    title: \"Stats\",\n    path: \"/demos/minesweeper/stats\"\n};\n","export type DifficultyName = \"EASY\" | \"NORMAL\" | \"HARD\";\n\nexport interface Difficulty {\n    readonly name: DifficultyName;\n    readonly displayName: string;\n    readonly height: number;\n    readonly width: number;\n    readonly mineRatio: number;\n}\n\nexport const EASY: Difficulty = {\n    name: \"EASY\",\n    displayName: \"Easy\",\n    height: 10,\n    width: 10,\n    mineRatio: 8\n};\n\nexport const NORMAL: Difficulty = {\n    name: \"NORMAL\",\n    displayName: \"Normal\",\n    height: 15,\n    width: 25,\n    mineRatio: 8\n};\n\nexport const HARD: Difficulty = {\n    name: \"HARD\",\n    displayName: \"Hard\",\n    height: 25,\n    width: 50,\n    mineRatio: 8\n};\n\nexport const DIFFICULTIES: readonly Difficulty[] = [EASY, NORMAL, HARD];\n","import \"./index.css\";\nimport { AppComponent } from \"./components/app-component\";\n\nexport default AppComponent;\n","import { h } from \"preact\";\nimport { Route, Router } from \"preact-router\";\nimport { HeaderComponent } from \"./header/header-component\";\nimport { useReducer } from \"preact/hooks\";\nimport { gameReducer } from \"../minesweeper/game-reducer\";\nimport { resetGame } from \"../minesweeper/functions/reset-game\";\nimport { EASY } from \"../minesweeper/types/difficulty\";\nimport { statsReducer } from \"../stats/stats-reducer\";\nimport { loadStats } from \"../stats/functions/load-stats\";\nimport { MinesweeperComponent } from \"./minesweeper/minesweeper-component\";\nimport { StatsComponent } from \"./stats/stats-component\";\nimport { minesweeperRouteProps } from \"./minesweeper/minesweeper-route-props\";\nimport { statsRouteProps } from \"./stats/stats-route-props\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nif ((module as any).hot) {\n    // tslint:disable-next-line:no-var-requires\n    require(\"preact/debug\");\n}\n\nexport type TitleUpdater = (routeTitle: string) => void;\n\nexport function AppComponent(): h.JSX.Element {\n    const [game, gameDispatch] = useReducer(gameReducer, resetGame(EASY));\n    const [stats, statsDispatch] = useReducer(statsReducer, loadStats());\n\n    function updateTitle(routeTitle: string): void {\n        document.title = `Minesweeper Game - ${routeTitle}`;\n    }\n\n    return (\n        <div id=\"app\">\n            <HeaderComponent />\n            <main>\n                <Router>\n                    <Route\n                        path={minesweeperRouteProps.path}\n                        component={MinesweeperComponent}\n                        game={game}\n                        dispatch={gameDispatch}\n                        statsDispatch={statsDispatch}\n                        updateTitle={updateTitle}\n                    />\n                    <Route\n                        path={statsRouteProps.path}\n                        component={StatsComponent}\n                        stats={stats}\n                        dispatch={statsDispatch}\n                        updateTitle={updateTitle}\n                    />\n                </Router>\n            </main>\n        </div>\n    );\n}\n","import { Stats } from \"../types/stats\";\n\nfunction defaultStats(): Stats {\n    return {\n        todayOnly: false,\n        results: []\n    };\n}\n\nexport function loadStats(): Stats {\n    try {\n        const stats = localStorage.getItem(\"stats\");\n        return stats ? JSON.parse(stats) : defaultStats();\n    } catch (e) {\n        // local storage isn't available for whatever reason.\n        return defaultStats();\n    }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_2tGRj5bs7uYqlzSGBMmPPR\",\"button\":\"M55u8jseqpiRvO8OrvA5V\",\"flag\":\"_1gIhCK9fRlxlyHhmZgatwm\",\"buttonActive\":\"uXdgHtVoMo8yafW5O5db6\",\"wiggleKeyFrames\":\"_3KP_mK2-6avCTTBTjb_8yS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"_33-IbutgyWRwLt_gWzvZis\",\"dimensions\":\"_18SnD1rGNcrxnZq-n-d05A\",\"statLines\":\"Ybm_DtfNw9UTM7TKs0u6o\"};","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"_1147OUGNeAYI9AR67l3M_F\",\"emoji\":\"_3kTdVpLwURv5ZCG1BkEjnu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_1b7DgXfDW-verlutAJs4J9\",\"hide\":\"_3EXH8HVfi73vqzQt9mlNau\",\"timer\":\"_2cFb60-Inj7n2JffQx2qGk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hidden\":\"_Q0GAmu13cSZrgEnyTAmu\",\"flagged\":\"US-_EuLNQM_x57Ro2nIFI\",\"flagging\":\"_2V8IhtMNCWBKfUkHLq5x9g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"revealed\":\"_2DsiIUj-2FFGFi7RoW5Ess\",\"mine\":\"_1kCDhNVeofrqWmInXchJTz\",\"mineKeyFrames\":\"_2cqgmlXYZG0kg5yquOBFkS\",\"win\":\"_2PfFxuh60roKG5A8khyu9Q\",\"winKeyFrames\":\"h0jr41_I_MWtLngRN6BYL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"_1iZAthx1--rn2vXXViQBvR\",\"row\":\"_2E5SJFgFMk9ds9xu9z9DJg\"};","import options from './options';\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\ti;\n\tfor (i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(\n\t\ttype,\n\t\tnormalizedProps,\n\t\tprops && props.key,\n\t\tprops && props.ref,\n\t\tnull\n\t);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined,\n\t\t_original: original\n\t};\n\n\tif (original == null) vnode._original = vnode;\n\tif (options.vnode) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn {};\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\tupdate = update(s, this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = oldVNode;\n\n\t\tlet newDom = diff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tnull,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\nlet rerenderCount = 0;\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, newDom, sibDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t} else if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t} else {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\ti = 0;\n\tnewParentVNode._children = toChildArray(\n\t\tnewParentVNode._children,\n\t\tchildVNode => {\n\t\t\tif (childVNode != null) {\n\t\t\t\tchildVNode._parent = newParentVNode;\n\t\t\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t\t\t// Check if we find a corresponding element in oldChildren.\n\t\t\t\t// If found, delete the array item by setting to `undefined`.\n\t\t\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t\t\t// (holes).\n\t\t\t\toldVNode = oldChildren[i];\n\n\t\t\t\tif (\n\t\t\t\t\toldVNode === null ||\n\t\t\t\t\t(oldVNode &&\n\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t\t\t) {\n\t\t\t\t\toldChildren[i] = undefined;\n\t\t\t\t} else {\n\t\t\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t\t\t// We always match by type (in either case).\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\toldVNode &&\n\t\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\toldVNode = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\t\t\tnewDom = diff(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\tglobalContext,\n\t\t\t\t\tisSvg,\n\t\t\t\t\texcessDomChildren,\n\t\t\t\t\tcommitQueue,\n\t\t\t\t\toldDom,\n\t\t\t\t\tisHydrating\n\t\t\t\t);\n\n\t\t\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\t\t\tif (!refs) refs = [];\n\t\t\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t\t\t}\n\n\t\t\t\t// Only proceed if the vnode has not been unmounted by `diff()` above.\n\t\t\t\tif (newDom != null) {\n\t\t\t\t\tif (firstChildDom == null) {\n\t\t\t\t\t\tfirstChildDom = newDom;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nextDom;\n\t\t\t\t\tif (childVNode._nextDom !== undefined) {\n\t\t\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t\t\t\t\t// of last DOM child of this child VNode\n\t\t\t\t\t\tnextDom = childVNode._nextDom;\n\n\t\t\t\t\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t\t\t\t\t// can clean up the property\n\t\t\t\t\t\tchildVNode._nextDom = undefined;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\texcessDomChildren == oldVNode ||\n\t\t\t\t\t\tnewDom != oldDom ||\n\t\t\t\t\t\tnewDom.parentNode == null\n\t\t\t\t\t) {\n\t\t\t\t\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t\t\t\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t\t\t\t\t// The values only have the same type when `null`.\n\n\t\t\t\t\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\t\t\t\t\tparentDom.appendChild(newDom);\n\t\t\t\t\t\t\tnextDom = null;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\tsibDom = oldDom, j = 0;\n\t\t\t\t\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildrenLength;\n\t\t\t\t\t\t\t\tj += 2\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\t\t\t\t\tnextDom = oldDom;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t\t\t\t// there are probably some internal data structures that aren't\n\t\t\t\t\t\t// updated properly.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t\t\t\t// value check in `diff()` won't be skipped.\n\t\t\t\t\t\tif (newParentVNode.type == 'option') {\n\t\t\t\t\t\t\tparentDom.value = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t\t\t\t\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t\t\t\t\t// See more detail in create-element.js:createVNode\n\t\t\t\t\tif (nextDom !== undefined) {\n\t\t\t\t\t\toldDom = nextDom;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toldDom = newDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t\t\t// node's nextSibling.\n\n\t\t\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t\t\t}\n\t\t\t\t} else if (\n\t\t\t\t\toldDom &&\n\t\t\t\t\toldVNode._dom == oldDom &&\n\t\t\t\t\toldDom.parentNode != parentDom\n\t\t\t\t) {\n\t\t\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti++;\n\t\t\treturn childVNode;\n\t\t}\n\t);\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren != null && typeof newParentVNode.type != 'function') {\n\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) unmount(oldChildren[i], oldChildren[i]);\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @param {(vnode: import('../internal').VNode) => import('../internal').VNode} [callback]\n * A function to invoke for each child before it is added to the flattened list.\n * @param {Array<import('../internal').VNode | string | number>} [flattened] An flat array of children to modify\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, callback, flattened) {\n\tif (flattened == null) flattened = [];\n\n\tif (children == null || typeof children == 'boolean') {\n\t\tif (callback) flattened.push(callback(null));\n\t} else if (Array.isArray(children)) {\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\ttoChildArray(children[i], callback, flattened);\n\t\t}\n\t} else if (!callback) {\n\t\tflattened.push(children);\n\t} else if (typeof children == 'string' || typeof children == 'number') {\n\t\tflattened.push(callback(createVNode(null, children, null, null, children)));\n\t} else if (children._dom != null || children._component != null) {\n\t\tflattened.push(\n\t\t\tcallback(\n\t\t\t\tcreateVNode(\n\t\t\t\t\tchildren.type,\n\t\t\t\t\tchildren.props,\n\t\t\t\t\tchildren.key,\n\t\t\t\t\tnull,\n\t\t\t\t\tchildren._original\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t} else {\n\t\tflattened.push(callback(children));\n\t}\n\n\treturn flattened;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (\n\t\ttypeof value == 'number' &&\n\t\tIS_NON_DIMENSIONAL.test(key) === false\n\t) {\n\t\tstyle[key] = value + 'px';\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else {\n\t\tstyle[key] = value;\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet s, useCapture, nameLower;\n\n\tif (isSvg) {\n\t\tif (name === 'className') {\n\t\t\tname = 'class';\n\t\t}\n\t} else if (name === 'class') {\n\t\tname = 'className';\n\t}\n\n\tif (name === 'style') {\n\t\ts = dom.style;\n\n\t\tif (typeof value == 'string') {\n\t\t\ts.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\ts.cssText = '';\n\t\t\t\toldValue = null;\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (let i in oldValue) {\n\t\t\t\t\tif (!(value && i in value)) {\n\t\t\t\t\t\tsetStyle(s, i, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (let i in value) {\n\t\t\t\t\tif (!oldValue || value[i] !== oldValue[i]) {\n\t\t\t\t\t\tsetStyle(s, i, value[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tnameLower = name.toLowerCase();\n\t\tname = (nameLower in dom ? nameLower : name).slice(2);\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t\t(dom._listeners || (dom._listeners = {}))[name] = value;\n\t\t} else {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t} else if (\n\t\tname !== 'list' &&\n\t\tname !== 'tagName' &&\n\t\t// HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n\t\t// setAttribute\n\t\tname !== 'form' &&\n\t\tname !== 'type' &&\n\t\tname !== 'size' &&\n\t\t!isSvg &&\n\t\tname in dom\n\t) {\n\t\tdom[name] = value == null ? '' : value;\n\t} else if (typeof value != 'function' && name !== 'dangerouslySetInnerHTML') {\n\t\tif (name !== (name = name.replace(/^xlink:?/, ''))) {\n\t\t\tif (value == null || value === false) {\n\t\t\t\tdom.removeAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase()\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdom.setAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase(),\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (\n\t\t\tvalue == null ||\n\t\t\t(value === false &&\n\t\t\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t\t\t// The value `false` is different from the attribute not\n\t\t\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t\t\t// that other VDOM frameworks also always stringify `false`.\n\t\t\t\t!/^ar/.test(name))\n\t\t) {\n\t\t\tdom.removeAttribute(name);\n\t\t} else {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\t(newVNode._original === oldVNode._original && !c._processingException)\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (tmp = 0; tmp < newVNode._children.length; tmp++) {\n\t\t\t\t\t\tif (newVNode._children[tmp]) {\n\t\t\t\t\t\t\tnewVNode._children[tmp]._parent = newVNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\tnewVNode._children = isTopLevelFragment\n\t\t\t\t? tmp.props.children\n\t\t\t\t: Array.isArray(tmp)\n\t\t\t\t? tmp\n\t\t\t\t: [tmp];\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type === 'svg' || isSvg;\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild != null &&\n\t\t\t\t((newVNode.type === null\n\t\t\t\t\t? child.nodeType === 3\n\t\t\t\t\t: child.localName === newVNode.type) ||\n\t\t\t\t\tdom == child)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (newVNode.type === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = isSvg\n\t\t\t? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type)\n\t\t\t: document.createElement(\n\t\t\t\t\tnewVNode.type,\n\t\t\t\t\tnewProps.is && { is: newProps.is }\n\t\t\t  );\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (newVNode.type === null) {\n\t\tif (oldProps !== newProps && dom.data != newProps) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\tif (excessDomChildren != null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\tif (oldProps === EMPTY_OBJ) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html != oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tnewVNode._children = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnewVNode.type === 'foreignObject' ? false : isSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tEMPTY_OBJ,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\ti !== dom.value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type != 'function') {\n\t\tskipRemove = (dom = vnode._dom) != null;\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom != null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\nconst IS_HYDRATE = EMPTY_OBJ;\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we\n\t// are in hydration mode or not by passing `IS_HYDRATE` instead of a\n\t// DOM element.\n\tlet isHydrating = replaceNode === IS_HYDRATE;\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\t((isHydrating ? parentDom : replaceNode || parentDom)._children = vnode),\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode && !isHydrating\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: EMPTY_ARR.slice.call(parentDom.childNodes),\n\t\tcommitQueue,\n\t\treplaceNode || EMPTY_OBJ,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, IS_HYDRATE);\n}\n","import { assign } from './util';\nimport { EMPTY_ARR } from './constants';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./index').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props) {\n\tprops = assign(assign({}, vnode.props), props);\n\tif (arguments.length > 2) props.children = EMPTY_ARR.slice.call(arguments, 2);\n\tlet normalizedProps = {};\n\tfor (const i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tprops.key || vnode.key,\n\t\tprops.ref || vnode.ref,\n\t\tnull\n\t);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tconst ctx = {};\n\n\tconst context = {\n\t\t_id: '__cC' + i++,\n\t\t_defaultValue: defaultValue,\n\t\tConsumer(props, context) {\n\t\t\treturn props.children(context);\n\t\t},\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tconst subs = [];\n\t\t\t\tthis.getChildContext = () => {\n\t\t\t\t\tctx[context._id] = this;\n\t\t\t\t\treturn ctx;\n\t\t\t\t};\n\n\t\t\t\tthis.shouldComponentUpdate = _props => {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc.context = _props.value;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\told && old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\tcontext.Consumer.contextType = context;\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\tcontext.Provider._contextRef = context;\n\n\treturn context;\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { enqueueRender } from '../component';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, hasCaught;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (\n\t\t\t\t\tcomponent.constructor &&\n\t\t\t\t\tcomponent.constructor.getDerivedStateFromError != null\n\t\t\t\t) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.setState(\n\t\t\t\t\t\tcomponent.constructor.getDerivedStateFromError(error)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\n\t\t\t\tif (hasCaught)\n\t\t\t\t\treturn enqueueRender((component._pendingError = component));\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/* global __webpack_public_path__ */\n\nimport * as Preact from 'preact';\nconst { h, render, hydrate } = Preact;\n\nconst interopDefault = m => (m && m.default ? m.default : m);\n\nconst normalizeURL = url => (url[url.length - 1] === '/' ? url : url + '/');\n\nif (process.env.NODE_ENV === 'development') {\n\t// enable preact devtools\n\trequire('preact/debug');\n\tif (process.env.RHL) {\n\t\t// enable hot loader\n\t\tconst hotLoader = interopDefault(require('react-hot-loader'));\n\t\thotLoader.preact(interopDefault(require('preact')));\n\t}\n\t// only add a debug sw if webpack service worker is not requested.\n\tif (process.env.ADD_SW === undefined && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw-debug.js');\n\t} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(\n\t\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t\t);\n\t}\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t// eslint-disable-next-line no-undef\n\tnavigator.serviceWorker.register(\n\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t);\n}\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root =\n\t\tdocument.getElementById('preact_root') || document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\tlet preRenderData = {};\n\t\tconst inlineDataElement = document.querySelector(\n\t\t\t'[type=\"__PREACT_CLI_DATA__\"]'\n\t\t);\n\t\tif (inlineDataElement) {\n\t\t\tpreRenderData =\n\t\t\t\tJSON.parse(inlineDataElement.innerHTML).preRenderData || preRenderData;\n\t\t}\n\t\t/* An object named CLI_DATA is passed as a prop,\n\t\t * this keeps us future proof if in case we decide,\n\t\t * to send other data like at some point in time.\n\t\t */\n\t\tconst CLI_DATA = { preRenderData };\n\t\tconst currentURL = preRenderData.url ? normalizeURL(preRenderData.url) : '';\n\t\tconst canHydrate =\n\t\t\tprocess.env.PRERENDER &&\n\t\t\tprocess.env.NODE_ENV === 'production' &&\n\t\t\thydrate &&\n\t\t\tcurrentURL === location.pathname;\n\t\tconst doRender = canHydrate ? hydrate : render;\n\t\troot = doRender(h(app, { CLI_DATA }), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.Link = exports.Match = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _preact = require('preact');\n\nvar _preactRouter = require('preact-router');\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Match = exports.Match = function (_Component) {\n\t_inherits(Match, _Component);\n\n\tfunction Match() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Match);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.update = function (url) {\n\t\t\t_this.nextUrl = url;\n\t\t\t_this.setState({});\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tMatch.prototype.componentDidMount = function componentDidMount() {\n\t\t_preactRouter.subscribers.push(this.update);\n\t};\n\n\tMatch.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\t_preactRouter.subscribers.splice(_preactRouter.subscribers.indexOf(this.update) >>> 0, 1);\n\t};\n\n\tMatch.prototype.render = function render(props) {\n\t\tvar url = this.nextUrl || (0, _preactRouter.getCurrentUrl)(),\n\t\t    path = url.replace(/\\?.+$/, '');\n\t\tthis.nextUrl = null;\n\t\treturn props.children({\n\t\t\turl: url,\n\t\t\tpath: path,\n\t\t\tmatches: (0, _preactRouter.exec)(path, props.path, {}) !== false\n\t\t});\n\t};\n\n\treturn Match;\n}(_preact.Component);\n\nvar Link = function Link(_ref) {\n\tvar activeClassName = _ref.activeClassName,\n\t    path = _ref.path,\n\t    props = _objectWithoutProperties(_ref, ['activeClassName', 'path']);\n\n\treturn (0, _preact.h)(\n\t\tMatch,\n\t\t{ path: path || props.href },\n\t\tfunction (_ref2) {\n\t\t\tvar matches = _ref2.matches;\n\t\t\treturn (0, _preact.h)(_preactRouter.Link, _extends({}, props, { 'class': [props.class || props.className, matches && activeClassName].filter(Boolean).join(' ') }));\n\t\t}\n\t);\n};\n\nexports.Link = Link;\nexports.default = Match;\n\nMatch.Link = Link;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reset\":\"_303JYRLJg4VzbyGKJU51qa\",\"select\":\"KS4wxcDiOEwvDlDi2TXjU\",\"submit\":\"A1h7SpH0K5N1vl8CA2vHT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line\":\"PofOX2RH2Z_90zB7Zo0XQ\",\"label\":\"_2uY5e-AnVt-UVEcoPX346e\",\"value\":\"gEea82ovAsLZdQhY36cFT\"};"],"sourceRoot":""}
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/minesweeper/minesweeper-component.css","webpack:///./components/minesweeper/square/square-component.css","webpack:///./components/stats/stats-component.css","webpack:///./components/header/header-component.css","webpack:///./components/header/header-component.tsx","webpack:///../src/index.js","webpack:///./minesweeper/game-reducer.ts","webpack:///./minesweeper/functions/get-adjacent-squares.ts","webpack:///./minesweeper/functions/create-board.ts","webpack:///./minesweeper/functions/reset-game.ts","webpack:///./stats/stats-reducer.ts","webpack:///./minesweeper/functions/reveal-mines.ts","webpack:///./minesweeper/functions/reveal.ts","webpack:///./minesweeper/functions/create-game.ts","webpack:///./minesweeper/functions/get-status.ts","webpack:///./stats/functions/save-stats.ts","webpack:///./stats/functions/log-result.ts","webpack:///./stats/actions/log-result-action.ts","webpack:///./minesweeper/functions/toggle-flagged-square.ts","webpack:///./components/minesweeper/square/hidden-square-component.tsx","webpack:///./minesweeper/actions/reveal-action.ts","webpack:///./minesweeper/actions/toggle-flagged-square-action.ts","webpack:///./components/minesweeper/square/revealed-square-component.tsx","webpack:///./components/minesweeper/square/square-component.tsx","webpack:///./components/minesweeper/board/board-component.tsx","webpack:///./components/minesweeper/reset/reset-component.tsx","webpack:///./minesweeper/actions/reset-action.ts","webpack:///./components/minesweeper/status/status-component.tsx","webpack:///./minesweeper/functions/to-hours-minutes-seconds.ts","webpack:///./components/minesweeper/timer/timer-component.tsx","webpack:///./minesweeper/functions/toggle-flagging.ts","webpack:///./components/minesweeper/flagging-toggle/flagging-toggle-component.tsx","webpack:///./minesweeper/actions/toggle-flagging-action.ts","webpack:///./components/minesweeper/minesweeper-component.tsx","webpack:///./components/stats/stat-line/stat-line-component.tsx","webpack:///./stats/functions/get-relevant-results.ts","webpack:///./stats/functions/get-win-rate.ts","webpack:///./stats/functions/get-total-time.ts","webpack:///./stats/functions/get-winning-times.ts","webpack:///./stats/functions/get-difficulty-summary.ts","webpack:///./components/stats/summary/difficulty-summary-component.tsx","webpack:///./stats/functions/get-total-summary.ts","webpack:///./components/stats/summary/total-summary-component.tsx","webpack:///./stats/functions/today-only.ts","webpack:///./stats/actions/today-only-action.ts","webpack:///./components/stats/stats-component.tsx","webpack:///./components/minesweeper/minesweeper-route-props.ts","webpack:///./components/stats/stats-route-props.ts","webpack:///./minesweeper/types/difficulty.ts","webpack:///./index.js","webpack:///./components/app-component.tsx","webpack:///./stats/functions/load-stats.ts","webpack:///./components/minesweeper/flagging-toggle/flagging-toggle-component.css","webpack:///./components/stats/summary/summary-component.css","webpack:///../src/util.js","webpack:///./components/minesweeper/status/status-component.css","webpack:///./components/minesweeper/timer/timer-component.css","webpack:///./components/minesweeper/square/hidden-square-component.css","webpack:///./components/minesweeper/square/revealed-square-component.css","webpack:///./components/minesweeper/board/board-component.css","webpack:///../src/create-element.js","webpack:///../src/component.js","webpack:///../src/diff/children.js","webpack:///../src/diff/props.js","webpack:///../src/diff/index.js","webpack:///../src/render.js","webpack:///../src/clone-element.js","webpack:///../src/create-context.js","webpack:///../src/constants.js","webpack:///../src/options.js","webpack:///../src/diff/catch-error.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js","webpack:///../node_modules/preact-router/match.js","webpack:///./components/minesweeper/reset/reset-component.css","webpack:///./components/stats/stat-line/stat-line-component.css"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","HeaderComponent","className","style","activeClassName","href","minesweeperRouteProps","statsRouteProps","getHookState","index","type","options","_hook","currentComponent","currentHook","hooks","__hooks","_list","_pendingEffects","length","push","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","currentIndex","_component","_value","nextValue","action","setState","useEffect","callback","args","state","_skipEffects","argsChanged","_args","flushAfterPaintEffects","afterPaintEffects","some","component","_parentDom","forEach","invokeCleanup","invokeEffect","e","_catchError","_vnode","hook","_cleanup","result","oldArgs","newArgs","arg","f","gameReducer","game","getAdjacentSquares","square","squares","width","height","x","y","filter","position","realPosition","getAdjacentPositions","map","getAdjacentMines","reduce","adjacentMines","mine","createBoard","mineRatio","minedBoard","row","markAdjacentMines","emptyBoard","Math","floor","random","setMinesAndPositions","Array","fill","revealed","flagged","createEmptyBoard","resetGame","difficulty","board","status","difficultyName","flagging","startedAt","finishedAt","statsReducer","stats","revealMines","getAdjacentSquaresToReveal","getPositionToReveal","squaresWithAdjacentToReveal","adjacentSquareToReveal","undefined","find","adjacentSquaresToReveal","hasAdjacentSquaresToReveal","revealSquare","revealBoard","currentSquare","it","reveal","gameStarted","mineRevealed","nonMineNotRevealed","findStatusProof","finished","finishedStatus","Date","now","createGame","saveStats","localStorage","setItem","JSON","stringify","gameResult","Error","win","logResultAction","todayOnly","results","logResult","toggleFlaggedSquare","toggleSquareFlagged","HiddenSquareComponent","props","blur","document","activeElement","HTMLElement","immediateReveal","dispatch","statsDispatch","updatedGame","revealAction","longPressReveal","newTimeoutId","window","setTimeout","updateTimeoutId","cancelLongPressReveal","timeoutId","clearTimeout","revealFunction","disabled","toggleFlaggedSquareAction","flaggedClass","flaggingClass","squareStyle","onClick","onTouchStart","event","preventDefault","onTouchEnd","onTouchMove","RevealedSquareComponent","mineImgSrc","src","alt","SquareComponent","BoardComponent","renderRow","renderSquare","ResetComponent","updateDifficulty","onSubmit","resetAction","DIFFICULTIES","EASY","onInput","currentTarget","displayName","StatusComponent","title","description","emoji","zeroPad","slice","toHoursMinutesSeconds","millis","showMinutes","abs","h","toAbsHoursMinutesSeconds","computeElapsedTime","TimerComponent","elapsedTime","setElapsedTime","hiddenClass","timer","setInterval","clearInterval","toggleFlagging","FlaggingToggleComponent","onKeyPress","buttonFlaggingClass","addEventListener","removeEventListener","MinesweeperComponent","updateTitle","StatLineComponent","label","getRelevantResults","today","setHours","getTime","startOfToday","getWinRate","wins","games","round","toFixed","getTotalTime","times","total","time","getWinningTimes","getDifficultySummary","totalTime","averageMillis","winningTimes","winRate","fastestTime","getFastestTime","averageTime","DifficultySummaryComponent","summary","getTotalSummary","totalTimeMillis","getAllTimes","getTotalPlayTime","TotalSummaryComponent","updatedStats","todayOnlyAction","todayOnlyValue","StatsComponent","heading","id","EASY_PLUS","EASY_PLUS_PLUS","NORMAL","NORMAL_PLUS","NORMAL_PLUS_PLUS","HARD","HARD_PLUS","HARD_PLUS_PLUS","prevRaf","oldBeforeRender","_render","oldAfterDiff","diffed","oldCommit","_commit","oldBeforeUnmount","unmount","vnode","requestAnimationFrame","raf","done","timeout","cancelAnimationFrame","commitQueue","_renderCallbacks","cb","AppComponent","routeTitle","clearSelection","getSelection","selection","empty","removeAllRanges","gameDispatch","getItem","parse","loadStats","path","let","EMPTY","getCurrentUrl","url","customHistory","location","getCurrentLocation","pathname","search","route","replace","ROUTERS","canRoute","history","setUrl","routeTo","didRoute","subscribers","routeFromLink","node","getAttribute","target","match","handleLinkClick","ctrlKey","metaKey","altKey","shiftKey","button","this","prevent","stopImmediatePropagation","stopPropagation","delegateLinkHandler","String","nodeName","toUpperCase","hasAttribute","parentNode","eventListenersInitialized","Router","super","shouldComponentUpdate","static","onChange","const","children","getMatchingChildren","updating","forceUpdate","componentWillMount","componentDidMount","unlisten","listen","componentWillUnmount","splice","indexOf","componentWillUpdate","componentDidUpdate","invoke","prepareVNodeForRanking","sort","pathRankSort","matches","exec","newProps","assign","ref","Boolean","render","active","current","previous","previousUrl","router","Link","Route","obj","removeNode","removeChild","createElement","normalizedProps","arguments","defaultProps","createVNode","original","_children","_parent","_depth","_dom","_nextDom","constructor","_original","createRef","Fragment","Component","context","getDomSibling","childIndex","sibling","updateParentDomPointers","child","base","enqueueRender","_dirty","rerenderQueue","rerenderCount","prevDebounce","debounceRendering","defer","process","queue","a","b","oldVNode","newDom","oldDom","parentDom","diff","_globalContext","ownerSVGElement","commitRoot","diffChildren","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","sibDom","firstChildDom","refs","oldChildren","EMPTY_ARR","oldChildrenLength","EMPTY_OBJ","toChildArray","childVNode","nextDom","outer","appendChild","nextSibling","insertBefore","applyRef","flattened","isArray","setStyle","setProperty","IS_NON_DIMENSIONAL","test","dom","oldValue","useCapture","nameLower","cssText","toLowerCase","eventProxy","_listeners","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","newVNode","tmp","isNew","oldProps","oldState","snapshot","clearProcessingException","provider","componentContext","newType","_diff","contextType","_id","_defaultValue","_processingException","_pendingError","doRender","sub","_nextState","getDerivedStateFromProps","componentWillReceiveProps","_force","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","root","oldHtml","newHtml","nodeType","localName","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","hydrate","diffProps","checked","parentVNode","skipRemove","replaceNode","_root","IS_HYDRATE","cloneElement","createContext","defaultValue","ctx","Consumer","Provider","subs","_this","_props","old","_contextRef","isValidElement","error","hasCaught","getDerivedStateFromError","componentDidCatch","update","Promise","then","resolve","Preact","interopDefault","default","navigator","serviceWorker","register","__webpack_public_path__","require","getElementById","body","firstElementChild","app","preRenderData","inlineDataElement","querySelector","currentURL","canHydrate","CLI_DATA","_possibleConstructorReturn","self","ReferenceError","Match","_extends","source","_preact","_preactRouter","_Component","_temp","_len","_key","apply","concat","nextUrl","subClass","superClass","TypeError","writable","configurable","setPrototypeOf","__proto__","_inherits","_ref","keys","_objectWithoutProperties","_ref2","class","join"],"mappings":"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","file":"bundle.c4332.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/demos/minesweeper/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"mdyV\");\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topRow\":\"NbAnYrWSfkuenLuTJ6QS5\",\"bottomRow\":\"_2p47jEkoTBrzYEJW6FmyjW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"d_mFF1jruGjQl7_HGI8X_\",\"square\":\"_3BBjZ1LPKgQUmtc8IO0vSh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"_1cWFJaZg9-KUzz2-tn8yCU\",\"summaries\":\"_2G422t4yLLZ-TCrtj4fWkT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_3oiVJRdVy6_Sqo1_K0EJ7o\",\"active\":\"_2VNCoyd6uprVuGrsbL3h4C\"};","import { h } from \"preact\";\nimport { Link } from \"preact-router/match\";\nimport * as style from \"./header-component.css\";\nimport { minesweeperRouteProps } from \"../minesweeper/minesweeper-route-props\";\nimport { statsRouteProps } from \"../stats/stats-route-props\";\n\nexport function HeaderComponent(): h.JSX.Element {\n    return (\n        <header className={style.header}>\n            <h1>Minesweeper Game</h1>\n            <nav>\n                <Link\n                    activeClassName={style.active}\n                    href={minesweeperRouteProps.path}\n                >\n                    {minesweeperRouteProps.title}\n                </Link>\n                <Link\n                    activeClassName={style.active}\n                    href={statsRouteProps.path}\n                >\n                    {statsRouteProps.title}\n                </Link>\n            </nav>\n        </header>\n    );\n}\n","import { cloneElement, createElement, Component, toChildArray } from 'preact';\nimport { exec, prepareVNodeForRanking, assign, pathRankSort } from './util';\n\nlet customHistory = null;\n\nconst ROUTERS = [];\n\nconst subscribers = [];\n\nconst EMPTY = {};\n\nfunction setUrl(url, type='push') {\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tlet url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn `${url.pathname || ''}${url.search || ''}`;\n}\n\n\n\nfunction route(url, replace=false) {\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (let i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) return true;\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tlet didRoute = false;\n\tfor (let i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (let i=subscribers.length; i--; ) {\n\t\tsubscribers[i](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) return;\n\n\tlet href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) return;\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\trouteFromLink(e.currentTarget || e.target || this);\n\treturn prevent(e);\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) e.stopImmediatePropagation();\n\t\tif (e.stopPropagation) e.stopPropagation();\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\n\tlet t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('native')) return;\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nlet eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) return;\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', () => {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nclass Router extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tshouldComponentUpdate(props) {\n\t\tif (props.static!==true) return true;\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t}\n\n\t/** Check if the given URL can be matched against any children */\n\tcanRoute(url) {\n\t\tconst children = toChildArray(this.props.children);\n\t\treturn this.getMatchingChildren(children, url, false).length > 0;\n\t}\n\n\t/** Re-render children with a new URL to match against. */\n\trouteTo(url) {\n\t\tthis.setState({ url });\n\n\t\tconst didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this.updating) this.forceUpdate();\n\n\t\treturn didRoute;\n\t}\n\n\tcomponentWillMount() {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen((location) => {\n\t\t\t\tthis.routeTo(`${location.pathname || ''}${location.search || ''}`);\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (typeof this.unlisten==='function') this.unlisten();\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t}\n\n\tcomponentWillUpdate() {\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updating = false;\n\t}\n\n\tgetMatchingChildren(children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( vnode => {\n\t\t\t\tlet matches = exec(url, vnode.props.path, vnode.props);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tlet newProps = { url, matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t}\n\n\trender({ children, onChange }, { url }) {\n\t\tlet active = this.getMatchingChildren(toChildArray(children), url, true);\n\n\t\tlet current = active[0] || null;\n\n\t\tlet previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl,\n\t\t\t\t\tprevious,\n\t\t\t\t\tactive,\n\t\t\t\t\tcurrent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t}\n}\n\nconst Link = (props) => (\n\tcreateElement('a', assign({ onClick: handleLinkClick }, props))\n);\n\nconst Route = props => createElement(props.component, props);\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\nRouter.exec = exec;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link, exec };\nexport default Router;\n","import { Game } from \"./types/game\";\n\nexport type GameReducer = (game: Game) => Game;\n\nexport type GameDispatch = (action: GameReducer) => void;\n\nexport function gameReducer(game: Game, action: GameReducer): Game {\n    return action(game);\n}\n","import { Position } from \"../types/position\";\nimport { Square } from \"../types/square\";\n\nfunction realPosition(\n    { x, y }: Position,\n    width: number,\n    height: number\n): boolean {\n    return x >= 0 && y >= 0 && x < width && y < height;\n}\n\nfunction getAdjacentPositions(\n    { x, y }: Position,\n    width: number,\n    height: number\n): Position[] {\n    return [\n        // row above\n        { x: x - 1, y: y - 1 },\n        { x, y: y - 1 },\n        { x: x + 1, y: y - 1 },\n        // same row\n        { x: x - 1, y },\n        { x: x + 1, y },\n        // row below\n        { x: x - 1, y: y + 1 },\n        { x, y: y + 1 },\n        { x: x + 1, y: y + 1 }\n    ].filter(position => realPosition(position, width, height));\n}\n\nexport function getAdjacentSquares(\n    square: Square,\n    squares: Square[][]\n): Square[] {\n    return getAdjacentPositions(\n        square.position,\n        squares[0].length,\n        squares.length\n    ).map(({ x, y }) => squares[y][x]);\n}\n","import { Square } from \"../types/square\";\nimport { getAdjacentSquares } from \"./get-adjacent-squares\";\n\nfunction createEmptyBoard(height: number, width: number): Square[][] {\n    return new Array<Square[]>(height).fill(\n        new Array<Square>(width).fill({\n            position: { x: 0, y: 0 },\n            revealed: false,\n            flagged: false,\n            mine: false,\n            adjacentMines: 0\n        })\n    );\n}\n\nfunction setMinesAndPositions(\n    emptyBoard: Square[][],\n    mineRatio: number\n): Square[][] {\n    return emptyBoard.map((row, y) =>\n        row.map((square, x) => ({\n            ...square,\n            position: { x, y },\n            mine: Math.floor(Math.random() * mineRatio) === 0\n        }))\n    );\n}\n\nfunction getAdjacentMines(square: Square, squares: Square[][]): number {\n    return getAdjacentSquares(square, squares).reduce(\n        (adjacentMines: number, { mine }: Square) =>\n            mine ? adjacentMines + 1 : adjacentMines,\n        square.mine ? 1 : 0\n    );\n}\n\nfunction markAdjacentMines(minedBoard: Square[][]): Square[][] {\n    return minedBoard.map(row =>\n        row.map(square => ({\n            ...square,\n            adjacentMines: getAdjacentMines(square, minedBoard)\n        }))\n    );\n}\n\nexport function createBoard(\n    height: number,\n    width: number,\n    mineRatio: number\n): Square[][] {\n    const emptyBoard = createEmptyBoard(height, width);\n    const minedBoard = setMinesAndPositions(emptyBoard, mineRatio);\n    return markAdjacentMines(minedBoard);\n}\n","import { Game } from \"../types/game\";\nimport { createBoard } from \"./create-board\";\nimport { Difficulty } from \"../types/difficulty\";\n\nexport function resetGame(difficulty: Difficulty): Game {\n    const { height, width, mineRatio, name } = difficulty;\n    return {\n        board: createBoard(height, width, mineRatio),\n        status: \"START\",\n        difficultyName: name,\n        flagging: false,\n        startedAt: null,\n        finishedAt: null\n    };\n}\n","import { Stats } from \"./types/stats\";\n\nexport type StatsReducer = (stats: Stats) => Stats;\n\nexport type StatsDispatch = (action: StatsReducer) => void;\n\nexport function statsReducer(stats: Stats, action: StatsReducer): Stats {\n    return action(stats);\n}\n","import { Square } from \"../types/square\";\n\nexport function revealMines(squares: Square[][]): Square[][] {\n    return squares.map(row =>\n        row.map(square => ({\n            ...square,\n            revealed: square.mine ? true : square.revealed\n        }))\n    );\n}\n","import { Square } from \"../types/square\";\nimport { getAdjacentSquares } from \"./get-adjacent-squares\";\nimport { createGame } from \"./create-game\";\nimport { Game } from \"../types/game\";\n\nfunction getAdjacentSquaresToReveal(\n    square: Square,\n    squares: Square[][]\n): Square[] {\n    return getAdjacentSquares(square, squares).filter(s =>\n        s.mine ? false : !s.revealed\n    );\n}\n\nfunction getPositionToReveal(\n    squaresWithAdjacentToReveal: Square[],\n    squares: Square[][]\n): Square | undefined {\n    let adjacentSquareToReveal: Square | undefined = undefined;\n    squaresWithAdjacentToReveal.find(square => {\n        const adjacentSquaresToReveal = getAdjacentSquaresToReveal(\n            square,\n            squares\n        );\n\n        adjacentSquareToReveal = adjacentSquaresToReveal.length\n            ? adjacentSquaresToReveal[0]\n            : undefined;\n\n        return !!adjacentSquareToReveal;\n    });\n    return adjacentSquareToReveal;\n}\n\nfunction hasAdjacentSquaresToReveal(\n    square: Square,\n    squares: Square[][]\n): boolean {\n    return (\n        square.adjacentMines === 0 &&\n        getAdjacentSquaresToReveal(square, squares).length > 0\n    );\n}\n\nfunction revealSquare(square: Square, squares: Square[][]): void {\n    const { y, x } = square.position;\n    squares[y][x] = {\n        ...square,\n        revealed: true\n    };\n}\n\nexport function revealBoard(square: Square, squares: Square[][]): Square[][] {\n    let squaresWithAdjacentToReveal: Square[] = [];\n    let currentSquare: Square | undefined = square;\n\n    // copying squares array to avoid manipulating the one that is passed in\n    // creating a new set of squares for each square revealed is too costly\n    squares = squares.map(it => it);\n\n    while (currentSquare) {\n        revealSquare(currentSquare, squares);\n\n        if (hasAdjacentSquaresToReveal(currentSquare, squares)) {\n            squaresWithAdjacentToReveal = [\n                ...squaresWithAdjacentToReveal,\n                currentSquare\n            ];\n        } else {\n            squaresWithAdjacentToReveal = squaresWithAdjacentToReveal.filter(\n                s => s !== currentSquare\n            );\n        }\n\n        currentSquare = getPositionToReveal(\n            squaresWithAdjacentToReveal,\n            squares\n        );\n    }\n\n    return squares;\n}\n\nexport function reveal(square: Square, game: Game): Game {\n    return createGame({\n        ...game,\n        board: revealBoard(square, game.board),\n        startedAt: game.startedAt || Date.now()\n    });\n}\n","import { getStatus } from \"./get-status\";\nimport { revealMines } from \"./reveal-mines\";\nimport { GameStatus } from \"../types/game-status\";\nimport { Game } from \"../types/game\";\n\nfunction finishedStatus(status: GameStatus): boolean {\n    return status === \"FAIL\" || status === \"WIN\";\n}\n\nexport function createGame(game: Game): Game {\n    const { board, flagging, startedAt, difficultyName } = game;\n    const status = getStatus(board);\n    const finished = finishedStatus(status);\n    return {\n        board: finished ? revealMines(board) : board,\n        difficultyName,\n        status,\n        flagging,\n        startedAt,\n        finishedAt: finished ? Date.now() : null\n    };\n}\n","import { Square } from \"../types/square\";\nimport { GameStatus } from \"../types/game-status\";\n\ninterface StatusProof {\n    gameStarted: boolean;\n    mineRevealed: boolean;\n    nonMineNotRevealed: boolean;\n}\n\nfunction findStatusProof(squares: Square[][]): StatusProof {\n    let gameStarted = false;\n    let mineRevealed = false;\n    let nonMineNotRevealed = false;\n    squares.forEach(row =>\n        row.forEach(square => {\n            if (!gameStarted && square.revealed) {\n                gameStarted = true;\n            }\n            if (!mineRevealed && square.revealed && square.mine) {\n                mineRevealed = true;\n            }\n            if (!nonMineNotRevealed && !square.revealed && !square.mine) {\n                nonMineNotRevealed = true;\n            }\n        })\n    );\n    return { gameStarted, mineRevealed, nonMineNotRevealed };\n}\n\nexport function getStatus(squares: Square[][]): GameStatus {\n    const { gameStarted, mineRevealed, nonMineNotRevealed } = findStatusProof(\n        squares\n    );\n\n    if (!gameStarted) {\n        return \"START\";\n    } else if (mineRevealed) {\n        return \"FAIL\";\n    } else if (nonMineNotRevealed) {\n        return \"PLAY\";\n    } else {\n        return \"WIN\";\n    }\n}\n","import { Stats } from \"../types/stats\";\n\nexport function saveStats(stats: Stats): void {\n    try {\n        localStorage.setItem(\"stats\", JSON.stringify(stats));\n    } catch (e) {\n        // local storage isn't available for whatever reason.\n        // the stats will only exist in memory then.\n    }\n}\n","import { Game } from \"../../minesweeper/types/game\";\nimport { Stats } from \"../types/stats\";\nimport { Result } from \"../types/result\";\nimport { saveStats } from \"./save-stats\";\n\nfunction gameResult(game: Game): Result {\n    const { startedAt, finishedAt, difficultyName } = game;\n    if (!startedAt || !finishedAt) {\n        throw new Error(\"Game is unfinished!\");\n    }\n    return {\n        difficultyName: difficultyName,\n        win: game.status === \"WIN\",\n        startedAt,\n        finishedAt\n    };\n}\n\nexport function logResult({ todayOnly, results }: Stats, game: Game): Stats {\n    const stats: Stats = {\n        todayOnly,\n        results: [...results, gameResult(game)]\n    };\n    saveStats(stats);\n    return stats;\n}\n","import { Game } from \"../../minesweeper/types/game\";\nimport { Stats } from \"../types/stats\";\nimport { StatsReducer } from \"../stats-reducer\";\nimport { logResult } from \"../functions/log-result\";\n\nexport function logResultAction(game: Game): StatsReducer {\n    return function(stats: Stats): Stats {\n        return logResult(stats, game);\n    };\n}\n","import { Game } from \"../types/game\";\nimport { Square } from \"../types/square\";\n\nfunction toggleSquareFlagged(square: Square): Square {\n    return {\n        ...square,\n        flagged: !square.flagged\n    };\n}\n\nexport function toggleFlaggedSquare(square: Square, game: Game): Game {\n    const board = game.board.map(row =>\n        row.map(currentSquare =>\n            currentSquare.position.y === square.position.y &&\n            currentSquare.position.x === square.position.x\n                ? toggleSquareFlagged(currentSquare)\n                : currentSquare\n        )\n    );\n    return { ...game, board };\n}\n","import { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { h } from \"preact\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport { revealAction } from \"../../../minesweeper/actions/reveal-action\";\nimport * as squareStyle from \"./square-component.css\";\nimport * as style from \"./hidden-square-component.css\";\nimport { toggleFlaggedSquareAction } from \"../../../minesweeper/actions/toggle-flagged-square-action\";\nimport { StatsDispatch } from \"../../../stats/stats-reducer\";\nimport { useState } from \"preact/hooks\";\n\ninterface Props {\n    square: Square;\n    status: GameStatus;\n    flagging: boolean;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n}\n\nexport function HiddenSquareComponent(props: Props): h.JSX.Element {\n    const [timeoutId, updateTimeoutId] = useState(0);\n    const { square, status, flagging, dispatch, statsDispatch } = props;\n    const disabled = status === \"FAIL\" || status === \"WIN\";\n    const flaggedClass = square.flagged ? style.flagged : \"\";\n    const flaggingClass = flagging ? style.flagging : \"\";\n\n    function blur(): void {\n        if (document.activeElement instanceof HTMLElement) {\n            document.activeElement.blur();\n        }\n    }\n\n    function immediateReveal(): void {\n        if (!square.flagged) {\n            dispatch(revealAction(square, statsDispatch));\n        }\n    }\n\n    function longPressReveal(): void {\n        if (!flagging) {\n            const newTimeoutId = window.setTimeout(immediateReveal, 500);\n            updateTimeoutId(newTimeoutId);\n        }\n    }\n\n    function cancelLongPressReveal(): void {\n        if (timeoutId) {\n            window.clearTimeout(timeoutId);\n            updateTimeoutId(0);\n        }\n        blur();\n    }\n\n    function reveal(revealFunction: () => void): void {\n        if (disabled) {\n            return;\n        } else if (flagging) {\n            dispatch(toggleFlaggedSquareAction(square));\n            blur();\n        } else if (!square.flagged) {\n            revealFunction();\n        }\n    }\n\n    function mouseReveal(): void {\n        reveal(immediateReveal);\n    }\n\n    function touchReveal(\n        event: h.JSX.TargetedTouchEvent<HTMLButtonElement>\n    ): void {\n        event.preventDefault();\n        reveal(longPressReveal);\n    }\n\n    return (\n        <div className={squareStyle.square}>\n            <button\n                disabled={disabled}\n                className={`${squareStyle.square} ${style.hidden} ${flaggedClass} ${flaggingClass}`}\n                onClick={mouseReveal}\n                onTouchStart={touchReveal}\n                onTouchEnd={cancelLongPressReveal}\n                onTouchMove={cancelLongPressReveal}\n            />\n        </div>\n    );\n}\n","import { Game } from \"../types/game\";\nimport { Square } from \"../types/square\";\nimport { GameReducer } from \"../game-reducer\";\nimport { reveal } from \"../functions/reveal\";\nimport { StatsDispatch } from \"../../stats/stats-reducer\";\nimport { logResultAction } from \"../../stats/actions/log-result-action\";\n\nexport function revealAction(\n    square: Square,\n    statsDispatch: StatsDispatch\n): GameReducer {\n    return function(game: Game): Game {\n        const updatedGame = reveal(square, game);\n        if (!game.finishedAt && !!updatedGame.finishedAt) {\n            statsDispatch(logResultAction(updatedGame));\n        }\n        return updatedGame;\n    };\n}\n","import { Game } from \"../types/game\";\nimport { Square } from \"../types/square\";\nimport { GameReducer } from \"../game-reducer\";\nimport { toggleFlaggedSquare } from \"../functions/toggle-flagged-square\";\n\nexport function toggleFlaggedSquareAction(square: Square): GameReducer {\n    return function(game: Game): Game {\n        return toggleFlaggedSquare(square, game);\n    };\n}\n","import { h } from \"preact\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport * as squareStyle from \"./square-component.css\";\nimport * as style from \"./revealed-square-component.css\";\nimport { minesweeperRouteProps } from \"../minesweeper-route-props\";\n\ninterface Props {\n    square: Square;\n    status: GameStatus;\n}\n\nexport function RevealedSquareComponent(props: Props): h.JSX.Element {\n    const { status, square } = props;\n    const { mine, adjacentMines } = square;\n\n    function mineImg(): h.JSX.Element {\n        const winStyle = status === \"WIN\" ? style.win : \"\";\n        const className = ` ${winStyle} ${style.mine}`;\n        const rootPath = minesweeperRouteProps.path;\n        const mineImgSrc = `${rootPath}/assets/icons/mine.png`;\n        return <img className={className} src={mineImgSrc} alt=\"Mine\" />;\n    }\n\n    return (\n        <div className={`${squareStyle.square} ${style.revealed}`}>\n            {mine ? mineImg() : adjacentMines || \"\"}\n        </div>\n    );\n}\n","import { h } from \"preact\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { HiddenSquareComponent } from \"./hidden-square-component\";\nimport { RevealedSquareComponent } from \"./revealed-square-component\";\nimport * as style from \"./square-component.css\";\nimport { StatsDispatch } from \"../../../stats/stats-reducer\";\n\ninterface Props {\n    square: Square;\n    status: GameStatus;\n    flagging: boolean;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n}\n\nexport function SquareComponent(props: Props): h.JSX.Element {\n    const { square, status, flagging, dispatch, statsDispatch } = props;\n    const { revealed } = square;\n\n    function revealedSquare(): h.JSX.Element {\n        return <RevealedSquareComponent square={square} status={status} />;\n    }\n\n    function hiddenSquare(): h.JSX.Element {\n        return (\n            <HiddenSquareComponent\n                square={square}\n                status={status}\n                flagging={flagging}\n                dispatch={dispatch}\n                statsDispatch={statsDispatch}\n            />\n        );\n    }\n\n    return (\n        <div className={style.container}>\n            {revealed ? revealedSquare() : hiddenSquare()}\n        </div>\n    );\n}\n","import { h } from \"preact\";\nimport { Square } from \"../../../minesweeper/types/square\";\nimport { SquareComponent } from \"../square/square-component\";\nimport * as style from \"./board-component.css\";\nimport { Game } from \"../../../minesweeper/types/game\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { StatsDispatch } from \"../../../stats/stats-reducer\";\n\ninterface Props {\n    game: Game;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n}\n\nexport function BoardComponent(props: Props): h.JSX.Element {\n    const { game, dispatch, statsDispatch } = props;\n    const { status, board, flagging } = game;\n\n    function renderSquare(square: Square): h.JSX.Element {\n        return (\n            <SquareComponent\n                square={square}\n                status={status}\n                flagging={flagging}\n                dispatch={dispatch}\n                statsDispatch={statsDispatch}\n            />\n        );\n    }\n\n    function renderRow(row: Square[]): h.JSX.Element {\n        return (\n            <div className={style.row}>\n                {row.map(square => renderSquare(square))}\n            </div>\n        );\n    }\n\n    return (\n        <div className={style.board}>{board.map(row => renderRow(row))}</div>\n    );\n}\n","import { h } from \"preact\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport { useState } from \"preact/hooks\";\nimport { resetAction } from \"../../../minesweeper/actions/reset-action\";\nimport * as style from \"./reset-component.css\";\nimport {\n    DIFFICULTIES,\n    Difficulty,\n    DifficultyName,\n    EASY\n} from \"../../../minesweeper/types/difficulty\";\n\ninterface Props {\n    dispatch: GameDispatch;\n}\n\nexport function ResetComponent(props: Props): h.JSX.Element {\n    const { dispatch } = props;\n    const [difficulty, updateDifficulty] = useState(\"EASY\" as DifficultyName);\n\n    function getResetDifficultyValue(): Difficulty {\n        return DIFFICULTIES.find(it => it.name === difficulty) || EASY;\n    }\n\n    function reset(e: h.JSX.TargetedEvent): void {\n        e.preventDefault();\n        dispatch(resetAction(getResetDifficultyValue()));\n    }\n\n    function onDifficultyInput(\n        e: h.JSX.TargetedEvent<HTMLSelectElement, Event>\n    ): void {\n        updateDifficulty(e.currentTarget.value as DifficultyName);\n    }\n\n    function difficultyOption(d: Difficulty): h.JSX.Element {\n        const { name, displayName, width, height } = d;\n        return (\n            <option value={name}>\n                {displayName} ({width}x{height})\n            </option>\n        );\n    }\n\n    return (\n        <div className={style.reset}>\n            <form onSubmit={reset}>\n                <select\n                    className={style.select}\n                    value={difficulty}\n                    onInput={onDifficultyInput}\n                >\n                    {DIFFICULTIES.map(difficultyOption)}\n                </select>\n                <button className={style.submit} type=\"submit\">\n                    Reset\n                </button>\n            </form>\n        </div>\n    );\n}\n","import { Game } from \"../types/game\";\nimport { GameReducer } from \"../game-reducer\";\nimport { resetGame } from \"../functions/reset-game\";\nimport { Difficulty } from \"../types/difficulty\";\n\nexport function resetAction(difficulty: Difficulty): GameReducer {\n    return function(): Game {\n        return resetGame(difficulty);\n    };\n}\n","import { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { h } from \"preact\";\nimport * as style from \"./status-component.css\";\n\ninterface Props {\n    status: GameStatus;\n}\n\nexport function StatusComponent(props: Props): h.JSX.Element {\n    const { status } = props;\n\n    function description(): string {\n        switch (status) {\n            case \"START\":\n                return \"\";\n            case \"PLAY\":\n                return \"Game in progress...\";\n            case \"FAIL\":\n                return \"You lost!  Please, try again!\";\n            case \"WIN\":\n                return \"You won!\";\n        }\n    }\n\n    function emoji(): string {\n        switch (status) {\n            case \"START\":\n                return \"🙂\";\n            case \"PLAY\":\n                return \"🤔\";\n            case \"FAIL\":\n                return \"😵\";\n            case \"WIN\":\n                return \"😎\";\n        }\n    }\n\n    return (\n        <div className={style.status}>\n            <div className={style.emoji} title={description()}>\n                {emoji()}\n            </div>\n        </div>\n    );\n}\n","function zeroPad(d: number): string {\n    return `0${d}`.slice(-2);\n}\n\nfunction toAbsHoursMinutesSeconds(\n    millis: number,\n    showMinutes: boolean\n): string {\n    const d = Math.floor(Math.abs(millis) / 1000);\n    const h = Math.floor(d / 3600);\n    const m = Math.floor((d % 3600) / 60);\n    const s = Math.floor((d % 3600) % 60);\n\n    if (h > 0) {\n        return `${h}:${zeroPad(m)}:${zeroPad(s)}`;\n    } else if (showMinutes || m > 0) {\n        return `${m}:${zeroPad(s)}`;\n    } else {\n        return `${s}`;\n    }\n}\n\nexport function toHoursMinutesSeconds(\n    millis: number,\n    showMinutes = false\n): string {\n    const sign = millis < 0 ? \"-\" : \"\";\n    const absHoursMinutesSeconds = toAbsHoursMinutesSeconds(\n        millis,\n        showMinutes\n    );\n    return `${sign}${absHoursMinutesSeconds}`;\n}\n","import { h } from \"preact\";\nimport * as style from \"./timer-component.css\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { toHoursMinutesSeconds } from \"../../../minesweeper/functions/to-hours-minutes-seconds\";\n\ninterface Props {\n    startedAt: number | null;\n    finishedAt: number | null;\n}\n\nfunction computeElapsedTime(\n    startedAt: number | null,\n    finishedAt: number | null\n): number {\n    if (startedAt === null) {\n        return 0;\n    } else if (finishedAt === null) {\n        return Date.now() - startedAt;\n    } else {\n        return finishedAt - startedAt;\n    }\n}\n\nexport function TimerComponent(props: Props): h.JSX.Element {\n    const { startedAt, finishedAt } = props;\n    const [elapsedTime, setElapsedTime] = useState<number>(\n        computeElapsedTime(startedAt, finishedAt)\n    );\n    const hiddenClass = startedAt !== null ? \"\" : style.hide;\n\n    useEffect(function() {\n        const timer = window.setInterval(function(): void {\n            setElapsedTime(computeElapsedTime(startedAt, finishedAt));\n        }, 100);\n        return function(): void {\n            clearInterval(timer);\n        };\n    });\n\n    return (\n        <div className={`${style.container} ${hiddenClass}`}>\n            <div className={style.timer}>\n                {toHoursMinutesSeconds(elapsedTime)}&nbsp;⏱\n            </div>\n        </div>\n    );\n}\n","import { Game } from \"../types/game\";\n\nexport function toggleFlagging(game: Game): Game {\n    return {\n        ...game,\n        flagging: !game.flagging\n    };\n}\n","import { h } from \"preact\";\nimport { GameDispatch } from \"../../../minesweeper/game-reducer\";\nimport * as style from \"./flagging-toggle-component.css\";\nimport { GameStatus } from \"../../../minesweeper/types/game-status\";\nimport { toggleFlaggingAction } from \"../../../minesweeper/actions/toggle-flagging-action\";\nimport { useEffect } from \"preact/hooks\";\n\ninterface Props {\n    status: GameStatus;\n    flagging: boolean;\n    dispatch: GameDispatch;\n}\n\nexport function FlaggingToggleComponent(props: Props): h.JSX.Element {\n    const { status, flagging, dispatch } = props;\n    const buttonFlaggingClass = flagging ? style.buttonActive : \"\";\n    const disabled = status === \"WIN\" || status === \"FAIL\";\n\n    function toggleFlagging(): void {\n        if (!disabled) {\n            dispatch(toggleFlaggingAction());\n        }\n    }\n\n    function onKeyPress(e: KeyboardEvent): void {\n        if (e.key === \"f\") {\n            toggleFlagging();\n        }\n    }\n\n    useEffect(function() {\n        document.addEventListener(\"keydown\", onKeyPress);\n        return function(): void {\n            document.removeEventListener(\"keydown\", onKeyPress);\n        };\n    });\n\n    return (\n        <div className={`${style.container} ${buttonFlaggingClass}`}>\n            <button\n                onClick={toggleFlagging}\n                disabled={disabled}\n                className={style.button}\n                title=\"Toggle flagging mines (Press F for shortcut)\"\n            >\n                <span className={style.flag}>🚩</span>\n            </button>\n        </div>\n    );\n}\n","import { GameReducer } from \"../game-reducer\";\nimport { Game } from \"../types/game\";\nimport { toggleFlagging } from \"../functions/toggle-flagging\";\n\nexport function toggleFlaggingAction(): GameReducer {\n    return function(game: Game): Game {\n        return toggleFlagging(game);\n    };\n}\n","import { h } from \"preact\";\nimport { GameDispatch } from \"../../minesweeper/game-reducer\";\nimport { BoardComponent } from \"./board/board-component\";\nimport { ResetComponent } from \"./reset/reset-component\";\nimport { Game } from \"../../minesweeper/types/game\";\nimport { StatusComponent } from \"./status/status-component\";\nimport * as style from \"./minesweeper-component.css\";\nimport { TimerComponent } from \"./timer/timer-component\";\nimport { FlaggingToggleComponent } from \"./flagging-toggle/flagging-toggle-component\";\nimport { StatsDispatch } from \"../../stats/stats-reducer\";\nimport { useEffect } from \"preact/hooks\";\nimport { TitleUpdater } from \"../app-component\";\nimport { minesweeperRouteProps } from \"./minesweeper-route-props\";\n\ninterface Props {\n    game: Game;\n    dispatch: GameDispatch;\n    statsDispatch: StatsDispatch;\n    updateTitle: TitleUpdater;\n}\n\nexport function MinesweeperComponent(props: Props): h.JSX.Element {\n    const { game, dispatch, statsDispatch, updateTitle } = props;\n    const { status, flagging, startedAt, finishedAt } = game;\n\n    useEffect(function() {\n        updateTitle(minesweeperRouteProps.title);\n    }, []);\n\n    return (\n        <div>\n            <div className={style.topRow}>\n                <StatusComponent status={status} />\n                <ResetComponent dispatch={dispatch} />\n                <TimerComponent startedAt={startedAt} finishedAt={finishedAt} />\n            </div>\n            <BoardComponent\n                game={game}\n                dispatch={dispatch}\n                statsDispatch={statsDispatch}\n            />\n            <div className={style.bottomRow}>\n                <FlaggingToggleComponent\n                    status={status}\n                    flagging={flagging}\n                    dispatch={dispatch}\n                />\n            </div>\n        </div>\n    );\n}\n","import { h } from \"preact\";\nimport * as style from \"./stat-line-component.css\";\n\ninterface Props {\n    label: string;\n    value: string | number;\n}\n\nexport function StatLineComponent(props: Props): h.JSX.Element {\n    const { label, value } = props;\n\n    return (\n        <div className={style.line}>\n            <div className={style.label}>\n                <strong>{label}</strong>\n            </div>\n            <div className={style.value}>{value}</div>\n        </div>\n    );\n}\n","import { Result } from \"../types/result\";\nimport { Stats } from \"../types/stats\";\nimport { Difficulty } from \"../../minesweeper/types/difficulty\";\n\nfunction startOfToday(): number {\n    const today = new Date(Date.now());\n    today.setHours(0, 0, 0, 0);\n    return today.getTime();\n}\n\nexport function getRelevantResults(\n    { results, todayOnly }: Stats,\n    difficulty?: Difficulty\n): Result[] {\n    const today = startOfToday();\n    return results.filter(result => {\n        if (difficulty && result.difficultyName !== difficulty.name) {\n            return false;\n        } else {\n            return !(todayOnly && result.finishedAt < today);\n        }\n    });\n}\n","export function getWinRate(wins: number, games: number): string {\n    const rate = games ? (wins / games) * 100 : 0;\n    const winRate = (Math.round(rate * 10) / 10).toFixed(1);\n    return `${winRate}%`;\n}\n","export function getTotalTime(times: number[]): number {\n    return times.reduce((total, time) => total + time, 0);\n}\n","import { Result } from \"../types/result\";\n\nexport function getWinningTimes(results: Result[]): number[] {\n    return results\n        .filter(result => result.win)\n        .map(result => result.finishedAt - result.startedAt);\n}\n","import { Stats } from \"../types/stats\";\nimport { Difficulty } from \"../../minesweeper/types/difficulty\";\nimport { getRelevantResults } from \"./get-relevant-results\";\nimport { toHoursMinutesSeconds } from \"../../minesweeper/functions/to-hours-minutes-seconds\";\nimport { getWinRate } from \"./get-win-rate\";\nimport { getTotalTime } from \"./get-total-time\";\nimport { DifficultySummary } from \"../types/difficulty-summary\";\nimport { getWinningTimes } from \"./get-winning-times\";\n\nfunction getFastestTime(times: number[]): string {\n    let fastestTime: number | null = null;\n    times.forEach(time => {\n        if (fastestTime === null || time < fastestTime) {\n            fastestTime = time;\n        }\n    });\n    return fastestTime ? toHoursMinutesSeconds(fastestTime, true) : \"-:--\";\n}\n\nfunction getAverageTime(times: number[]): string {\n    const totalTime = getTotalTime(times);\n    const averageMillis = Math.floor(totalTime / times.length);\n    return averageMillis ? toHoursMinutesSeconds(averageMillis, true) : \"-:--\";\n}\n\nexport function getDifficultySummary(\n    stats: Stats,\n    difficulty?: Difficulty\n): DifficultySummary {\n    const results = getRelevantResults(stats, difficulty);\n    const games = results.length;\n    const winningTimes = getWinningTimes(results);\n    const wins = winningTimes.length;\n    const winRate = getWinRate(wins, games);\n    const fastestTime = getFastestTime(winningTimes);\n    const averageTime = getAverageTime(winningTimes);\n    return { games, wins, winRate, fastestTime, averageTime };\n}\n","import { Stats } from \"../../../stats/types/stats\";\nimport { h } from \"preact\";\nimport { Difficulty } from \"../../../minesweeper/types/difficulty\";\nimport { StatLineComponent } from \"../stat-line/stat-line-component\";\nimport * as style from \"./summary-component.css\";\nimport { getDifficultySummary } from \"../../../stats/functions/get-difficulty-summary\";\n\ninterface Props {\n    stats: Stats;\n    difficulty: Difficulty;\n}\n\nexport function DifficultySummaryComponent(props: Props): h.JSX.Element {\n    const { stats, difficulty } = props;\n    const summary = getDifficultySummary(stats, difficulty);\n    const { games, wins, winRate, fastestTime, averageTime } = summary;\n\n    return (\n        <div className={style.summary}>\n            <h3>\n                {difficulty.displayName}{\" \"}\n                <span className={style.dimensions}>\n                    ({difficulty.width}x{difficulty.height})\n                </span>\n            </h3>\n            <div className={style.statLines}>\n                <StatLineComponent label=\"Games\" value={games} />\n                <StatLineComponent label=\"Wins\" value={wins} />\n                <StatLineComponent label=\"Wins (%)\" value={winRate} />\n                <StatLineComponent label=\"Fastest Time\" value={fastestTime} />\n                <StatLineComponent label=\"Average Time\" value={averageTime} />\n            </div>\n        </div>\n    );\n}\n","import { Stats } from \"../types/stats\";\nimport { getRelevantResults } from \"./get-relevant-results\";\nimport { getWinRate } from \"./get-win-rate\";\nimport { getWinningTimes } from \"./get-winning-times\";\nimport { TotalSummary } from \"../types/total-summary\";\nimport { getTotalTime } from \"./get-total-time\";\nimport { Result } from \"../types/result\";\nimport { toHoursMinutesSeconds } from \"../../minesweeper/functions/to-hours-minutes-seconds\";\n\nexport function getAllTimes(results: Result[]): number[] {\n    return results.map(result => result.finishedAt - result.startedAt);\n}\n\nfunction getTotalPlayTime(results: Result[]): string {\n    const allTimes = getAllTimes(results);\n    const totalTimeMillis = getTotalTime(allTimes);\n    return totalTimeMillis\n        ? toHoursMinutesSeconds(totalTimeMillis, true)\n        : \"-:--\";\n}\n\nexport function getTotalSummary(stats: Stats): TotalSummary {\n    const results = getRelevantResults(stats);\n    const totalTime = getTotalPlayTime(results);\n    const games = results.length;\n    const wins = getWinningTimes(results).length;\n    const winRate = getWinRate(wins, games);\n    return { totalTime, games, wins, winRate };\n}\n","import { Stats } from \"../../../stats/types/stats\";\nimport { h } from \"preact\";\nimport * as style from \"./summary-component.css\";\nimport { StatLineComponent } from \"../stat-line/stat-line-component\";\nimport { getTotalSummary } from \"../../../stats/functions/get-total-summary\";\n\ninterface Props {\n    stats: Stats;\n}\n\nexport function TotalSummaryComponent(props: Props): h.JSX.Element {\n    const { stats } = props;\n    const { totalTime, games, wins, winRate } = getTotalSummary(stats);\n\n    return (\n        <div className={style.summary}>\n            <h3>All Modes</h3>\n            <div className={style.statLines}>\n                <StatLineComponent label=\"Games\" value={games} />\n                <StatLineComponent label=\"Wins\" value={wins} />\n                <StatLineComponent label=\"Wins (%)\" value={winRate} />\n                <StatLineComponent label=\"Total Play Time\" value={totalTime} />\n            </div>\n        </div>\n    );\n}\n","import { Stats } from \"../types/stats\";\nimport { saveStats } from \"./save-stats\";\n\nexport function todayOnly(stats: Stats, todayOnly: boolean): Stats {\n    const updatedStats: Stats = {\n        ...stats,\n        todayOnly\n    };\n    saveStats(updatedStats);\n    return updatedStats;\n}\n","import { Stats } from \"../types/stats\";\nimport { StatsReducer } from \"../stats-reducer\";\nimport { todayOnly } from \"../functions/today-only\";\n\nexport function todayOnlyAction(todayOnlyValue: boolean): StatsReducer {\n    return function(stats: Stats): Stats {\n        return todayOnly(stats, todayOnlyValue);\n    };\n}\n","import { h } from \"preact\";\nimport { Stats } from \"../../stats/types/stats\";\nimport { StatsDispatch } from \"../../stats/stats-reducer\";\nimport { DifficultySummaryComponent } from \"./summary/difficulty-summary-component\";\nimport {\n    EASY,\n    EASY_PLUS,\n    EASY_PLUS_PLUS,\n    HARD,\n    HARD_PLUS,\n    HARD_PLUS_PLUS,\n    NORMAL,\n    NORMAL_PLUS,\n    NORMAL_PLUS_PLUS\n} from \"../../minesweeper/types/difficulty\";\nimport * as style from \"./stats-component.css\";\nimport { TotalSummaryComponent } from \"./summary/total-summary-component\";\nimport { todayOnlyAction } from \"../../stats/actions/today-only-action\";\nimport { useEffect } from \"preact/hooks\";\nimport { TitleUpdater } from \"../app-component\";\nimport { statsRouteProps } from \"./stats-route-props\";\n\ninterface Props {\n    stats: Stats;\n    dispatch: StatsDispatch;\n    updateTitle: TitleUpdater;\n}\n\nexport function StatsComponent(props: Props): h.JSX.Element {\n    const { stats, dispatch, updateTitle } = props;\n    const heading = stats.todayOnly ? \"Today\" : \"All Time\";\n\n    useEffect(function() {\n        updateTitle(statsRouteProps.title);\n    }, []);\n\n    function allTime(): void {\n        dispatch(todayOnlyAction(false));\n    }\n\n    function todayOnly(): void {\n        dispatch(todayOnlyAction(true));\n    }\n\n    return (\n        <div>\n            <div className={style.filters}>\n                <button id=\"allTimeButton\" onClick={allTime}>\n                    All Time\n                </button>\n                <button id=\"todayButton\" onClick={todayOnly}>\n                    Today\n                </button>\n            </div>\n            <h2>Game Stats: {heading}</h2>\n            <div className={style.summaries}>\n                <TotalSummaryComponent stats={stats} />\n            </div>\n            <div className={style.summaries}>\n                <DifficultySummaryComponent difficulty={EASY} stats={stats} />\n                <DifficultySummaryComponent\n                    difficulty={EASY_PLUS}\n                    stats={stats}\n                />\n                <DifficultySummaryComponent\n                    difficulty={EASY_PLUS_PLUS}\n                    stats={stats}\n                />\n            </div>\n            <div className={style.summaries}>\n                <DifficultySummaryComponent difficulty={NORMAL} stats={stats} />\n                <DifficultySummaryComponent\n                    difficulty={NORMAL_PLUS}\n                    stats={stats}\n                />\n                <DifficultySummaryComponent\n                    difficulty={NORMAL_PLUS_PLUS}\n                    stats={stats}\n                />\n            </div>\n            <div className={style.summaries}>\n                <DifficultySummaryComponent difficulty={HARD} stats={stats} />\n                <DifficultySummaryComponent\n                    difficulty={HARD_PLUS}\n                    stats={stats}\n                />\n                <DifficultySummaryComponent\n                    difficulty={HARD_PLUS_PLUS}\n                    stats={stats}\n                />\n            </div>\n            <small>ℹ️ Stats are only recorded for finished games!</small>\n        </div>\n    );\n}\n","import { RouteProps } from \"../route-props\";\n\nexport const minesweeperRouteProps: RouteProps = {\n    title: \"Play\",\n    path: \"/demos/minesweeper/\"\n};\n","import { RouteProps } from \"../route-props\";\n\nexport const statsRouteProps: RouteProps = {\n    title: \"Stats\",\n    path: \"/demos/minesweeper/stats\"\n};\n","export type DifficultyName =\n    | \"EASY\"\n    | \"NORMAL\"\n    | \"HARD\"\n    | \"EASY+\"\n    | \"NORMAL+\"\n    | \"HARD+\"\n    | \"EASY++\"\n    | \"NORMAL++\"\n    | \"HARD++\";\n\nexport interface Difficulty {\n    readonly name: DifficultyName;\n    readonly displayName: string;\n    readonly height: number;\n    readonly width: number;\n    readonly mineRatio: number;\n}\n\nexport const EASY: Difficulty = {\n    name: \"EASY\",\n    displayName: \"Easy\",\n    height: 10,\n    width: 10,\n    mineRatio: 8\n};\n\nexport const NORMAL: Difficulty = {\n    name: \"NORMAL\",\n    displayName: \"Normal\",\n    height: 15,\n    width: 25,\n    mineRatio: 8\n};\n\nexport const HARD: Difficulty = {\n    name: \"HARD\",\n    displayName: \"Hard\",\n    height: 20,\n    width: 40,\n    mineRatio: 8\n};\n\nexport const EASY_PLUS: Difficulty = {\n    name: \"EASY+\",\n    displayName: \"Easy+\",\n    height: 10,\n    width: 10,\n    mineRatio: 7\n};\n\nexport const NORMAL_PLUS: Difficulty = {\n    name: \"NORMAL+\",\n    displayName: \"Normal+\",\n    height: 15,\n    width: 25,\n    mineRatio: 7\n};\n\nexport const HARD_PLUS: Difficulty = {\n    name: \"HARD+\",\n    displayName: \"Hard+\",\n    height: 20,\n    width: 40,\n    mineRatio: 7\n};\n\nexport const EASY_PLUS_PLUS: Difficulty = {\n    name: \"EASY++\",\n    displayName: \"Easy++\",\n    height: 10,\n    width: 10,\n    mineRatio: 6\n};\n\nexport const NORMAL_PLUS_PLUS: Difficulty = {\n    name: \"NORMAL++\",\n    displayName: \"Normal++\",\n    height: 15,\n    width: 25,\n    mineRatio: 6\n};\n\nexport const HARD_PLUS_PLUS: Difficulty = {\n    name: \"HARD++\",\n    displayName: \"Hard++\",\n    height: 20,\n    width: 40,\n    mineRatio: 6\n};\n\nexport const DIFFICULTIES: readonly Difficulty[] = [\n    EASY,\n    EASY_PLUS,\n    EASY_PLUS_PLUS,\n    NORMAL,\n    NORMAL_PLUS,\n    NORMAL_PLUS_PLUS,\n    HARD,\n    HARD_PLUS,\n    HARD_PLUS_PLUS\n];\n","import \"./index.css\";\nimport { AppComponent } from \"./components/app-component\";\n\nexport default AppComponent;\n","import { h } from \"preact\";\nimport { Route, Router } from \"preact-router\";\nimport { HeaderComponent } from \"./header/header-component\";\nimport { useReducer } from \"preact/hooks\";\nimport { gameReducer } from \"../minesweeper/game-reducer\";\nimport { resetGame } from \"../minesweeper/functions/reset-game\";\nimport { EASY } from \"../minesweeper/types/difficulty\";\nimport { statsReducer } from \"../stats/stats-reducer\";\nimport { loadStats } from \"../stats/functions/load-stats\";\nimport { MinesweeperComponent } from \"./minesweeper/minesweeper-component\";\nimport { StatsComponent } from \"./stats/stats-component\";\nimport { minesweeperRouteProps } from \"./minesweeper/minesweeper-route-props\";\nimport { statsRouteProps } from \"./stats/stats-route-props\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nif ((module as any).hot) {\n    // tslint:disable-next-line:no-var-requires\n    require(\"preact/debug\");\n}\n\nexport type TitleUpdater = (routeTitle: string) => void;\n\nexport function AppComponent(): h.JSX.Element {\n    const [game, gameDispatch] = useReducer(gameReducer, resetGame(EASY));\n    const [stats, statsDispatch] = useReducer(statsReducer, loadStats());\n\n    function updateTitle(routeTitle: string): void {\n        document.title = `Minesweeper Game - ${routeTitle}`;\n    }\n\n    function clearSelection(): void {\n        // touch devices have a selection behavior for long presses,\n        // since long presses are required to clear squares on touch devices,\n        // this will automatically get rid of the selection.\n        if (window.getSelection) {\n            const selection = window.getSelection();\n            if (!selection) {\n                return;\n            } else if (selection.empty) {\n                selection.empty();\n            } else if (selection.removeAllRanges) {\n                selection.removeAllRanges();\n            }\n        }\n    }\n\n    return (\n        <div id=\"app\" onTouchStart={clearSelection} onTouchEnd={clearSelection}>\n            <HeaderComponent />\n            <main>\n                <Router>\n                    <Route\n                        path={minesweeperRouteProps.path}\n                        component={MinesweeperComponent}\n                        game={game}\n                        dispatch={gameDispatch}\n                        statsDispatch={statsDispatch}\n                        updateTitle={updateTitle}\n                    />\n                    <Route\n                        path={statsRouteProps.path}\n                        component={StatsComponent}\n                        stats={stats}\n                        dispatch={statsDispatch}\n                        updateTitle={updateTitle}\n                    />\n                </Router>\n            </main>\n        </div>\n    );\n}\n","import { Stats } from \"../types/stats\";\n\nfunction defaultStats(): Stats {\n    return {\n        todayOnly: false,\n        results: []\n    };\n}\n\nexport function loadStats(): Stats {\n    try {\n        const stats = localStorage.getItem(\"stats\");\n        return stats ? JSON.parse(stats) : defaultStats();\n    } catch (e) {\n        // local storage isn't available for whatever reason.\n        return defaultStats();\n    }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_2tGRj5bs7uYqlzSGBMmPPR\",\"button\":\"M55u8jseqpiRvO8OrvA5V\",\"flag\":\"_1gIhCK9fRlxlyHhmZgatwm\",\"buttonActive\":\"uXdgHtVoMo8yafW5O5db6\",\"wiggleKeyFrames\":\"_3KP_mK2-6avCTTBTjb_8yS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"_33-IbutgyWRwLt_gWzvZis\",\"dimensions\":\"_18SnD1rGNcrxnZq-n-d05A\",\"statLines\":\"Ybm_DtfNw9UTM7TKs0u6o\"};","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"_1147OUGNeAYI9AR67l3M_F\",\"emoji\":\"_3kTdVpLwURv5ZCG1BkEjnu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_1b7DgXfDW-verlutAJs4J9\",\"hide\":\"_3EXH8HVfi73vqzQt9mlNau\",\"timer\":\"_2cFb60-Inj7n2JffQx2qGk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hidden\":\"_Q0GAmu13cSZrgEnyTAmu\",\"flagged\":\"US-_EuLNQM_x57Ro2nIFI\",\"flagging\":\"_2V8IhtMNCWBKfUkHLq5x9g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"revealed\":\"_2DsiIUj-2FFGFi7RoW5Ess\",\"mine\":\"_1kCDhNVeofrqWmInXchJTz\",\"mineKeyFrames\":\"_2cqgmlXYZG0kg5yquOBFkS\",\"win\":\"_2PfFxuh60roKG5A8khyu9Q\",\"winKeyFrames\":\"h0jr41_I_MWtLngRN6BYL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"_1iZAthx1--rn2vXXViQBvR\",\"row\":\"_2E5SJFgFMk9ds9xu9z9DJg\"};","import options from './options';\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\ti;\n\tfor (i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(\n\t\ttype,\n\t\tnormalizedProps,\n\t\tprops && props.key,\n\t\tprops && props.ref,\n\t\tnull\n\t);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined,\n\t\t_original: original\n\t};\n\n\tif (original == null) vnode._original = vnode;\n\tif (options.vnode) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn {};\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\tupdate = update(s, this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = oldVNode;\n\n\t\tlet newDom = diff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tnull,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\nlet rerenderCount = 0;\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, newDom, sibDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t} else if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t} else {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\ti = 0;\n\tnewParentVNode._children = toChildArray(\n\t\tnewParentVNode._children,\n\t\tchildVNode => {\n\t\t\tif (childVNode != null) {\n\t\t\t\tchildVNode._parent = newParentVNode;\n\t\t\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t\t\t// Check if we find a corresponding element in oldChildren.\n\t\t\t\t// If found, delete the array item by setting to `undefined`.\n\t\t\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t\t\t// (holes).\n\t\t\t\toldVNode = oldChildren[i];\n\n\t\t\t\tif (\n\t\t\t\t\toldVNode === null ||\n\t\t\t\t\t(oldVNode &&\n\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t\t\t) {\n\t\t\t\t\toldChildren[i] = undefined;\n\t\t\t\t} else {\n\t\t\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t\t\t// We always match by type (in either case).\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\toldVNode &&\n\t\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\toldVNode = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\t\t\tnewDom = diff(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\tglobalContext,\n\t\t\t\t\tisSvg,\n\t\t\t\t\texcessDomChildren,\n\t\t\t\t\tcommitQueue,\n\t\t\t\t\toldDom,\n\t\t\t\t\tisHydrating\n\t\t\t\t);\n\n\t\t\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\t\t\tif (!refs) refs = [];\n\t\t\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t\t\t}\n\n\t\t\t\t// Only proceed if the vnode has not been unmounted by `diff()` above.\n\t\t\t\tif (newDom != null) {\n\t\t\t\t\tif (firstChildDom == null) {\n\t\t\t\t\t\tfirstChildDom = newDom;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nextDom;\n\t\t\t\t\tif (childVNode._nextDom !== undefined) {\n\t\t\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t\t\t\t\t// of last DOM child of this child VNode\n\t\t\t\t\t\tnextDom = childVNode._nextDom;\n\n\t\t\t\t\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t\t\t\t\t// can clean up the property\n\t\t\t\t\t\tchildVNode._nextDom = undefined;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\texcessDomChildren == oldVNode ||\n\t\t\t\t\t\tnewDom != oldDom ||\n\t\t\t\t\t\tnewDom.parentNode == null\n\t\t\t\t\t) {\n\t\t\t\t\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t\t\t\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t\t\t\t\t// The values only have the same type when `null`.\n\n\t\t\t\t\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\t\t\t\t\tparentDom.appendChild(newDom);\n\t\t\t\t\t\t\tnextDom = null;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\tsibDom = oldDom, j = 0;\n\t\t\t\t\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildrenLength;\n\t\t\t\t\t\t\t\tj += 2\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\t\t\t\t\tnextDom = oldDom;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t\t\t\t// there are probably some internal data structures that aren't\n\t\t\t\t\t\t// updated properly.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t\t\t\t// value check in `diff()` won't be skipped.\n\t\t\t\t\t\tif (newParentVNode.type == 'option') {\n\t\t\t\t\t\t\tparentDom.value = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t\t\t\t\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t\t\t\t\t// See more detail in create-element.js:createVNode\n\t\t\t\t\tif (nextDom !== undefined) {\n\t\t\t\t\t\toldDom = nextDom;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toldDom = newDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t\t\t// node's nextSibling.\n\n\t\t\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t\t\t}\n\t\t\t\t} else if (\n\t\t\t\t\toldDom &&\n\t\t\t\t\toldVNode._dom == oldDom &&\n\t\t\t\t\toldDom.parentNode != parentDom\n\t\t\t\t) {\n\t\t\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti++;\n\t\t\treturn childVNode;\n\t\t}\n\t);\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren != null && typeof newParentVNode.type != 'function') {\n\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) unmount(oldChildren[i], oldChildren[i]);\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @param {(vnode: import('../internal').VNode) => import('../internal').VNode} [callback]\n * A function to invoke for each child before it is added to the flattened list.\n * @param {Array<import('../internal').VNode | string | number>} [flattened] An flat array of children to modify\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, callback, flattened) {\n\tif (flattened == null) flattened = [];\n\n\tif (children == null || typeof children == 'boolean') {\n\t\tif (callback) flattened.push(callback(null));\n\t} else if (Array.isArray(children)) {\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\ttoChildArray(children[i], callback, flattened);\n\t\t}\n\t} else if (!callback) {\n\t\tflattened.push(children);\n\t} else if (typeof children == 'string' || typeof children == 'number') {\n\t\tflattened.push(callback(createVNode(null, children, null, null, children)));\n\t} else if (children._dom != null || children._component != null) {\n\t\tflattened.push(\n\t\t\tcallback(\n\t\t\t\tcreateVNode(\n\t\t\t\t\tchildren.type,\n\t\t\t\t\tchildren.props,\n\t\t\t\t\tchildren.key,\n\t\t\t\t\tnull,\n\t\t\t\t\tchildren._original\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t} else {\n\t\tflattened.push(callback(children));\n\t}\n\n\treturn flattened;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (\n\t\ttypeof value == 'number' &&\n\t\tIS_NON_DIMENSIONAL.test(key) === false\n\t) {\n\t\tstyle[key] = value + 'px';\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else {\n\t\tstyle[key] = value;\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet s, useCapture, nameLower;\n\n\tif (isSvg) {\n\t\tif (name === 'className') {\n\t\t\tname = 'class';\n\t\t}\n\t} else if (name === 'class') {\n\t\tname = 'className';\n\t}\n\n\tif (name === 'style') {\n\t\ts = dom.style;\n\n\t\tif (typeof value == 'string') {\n\t\t\ts.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\ts.cssText = '';\n\t\t\t\toldValue = null;\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (let i in oldValue) {\n\t\t\t\t\tif (!(value && i in value)) {\n\t\t\t\t\t\tsetStyle(s, i, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (let i in value) {\n\t\t\t\t\tif (!oldValue || value[i] !== oldValue[i]) {\n\t\t\t\t\t\tsetStyle(s, i, value[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tnameLower = name.toLowerCase();\n\t\tname = (nameLower in dom ? nameLower : name).slice(2);\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t\t(dom._listeners || (dom._listeners = {}))[name] = value;\n\t\t} else {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t} else if (\n\t\tname !== 'list' &&\n\t\tname !== 'tagName' &&\n\t\t// HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n\t\t// setAttribute\n\t\tname !== 'form' &&\n\t\tname !== 'type' &&\n\t\tname !== 'size' &&\n\t\t!isSvg &&\n\t\tname in dom\n\t) {\n\t\tdom[name] = value == null ? '' : value;\n\t} else if (typeof value != 'function' && name !== 'dangerouslySetInnerHTML') {\n\t\tif (name !== (name = name.replace(/^xlink:?/, ''))) {\n\t\t\tif (value == null || value === false) {\n\t\t\t\tdom.removeAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase()\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdom.setAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase(),\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (\n\t\t\tvalue == null ||\n\t\t\t(value === false &&\n\t\t\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t\t\t// The value `false` is different from the attribute not\n\t\t\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t\t\t// that other VDOM frameworks also always stringify `false`.\n\t\t\t\t!/^ar/.test(name))\n\t\t) {\n\t\t\tdom.removeAttribute(name);\n\t\t} else {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\t(newVNode._original === oldVNode._original && !c._processingException)\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (tmp = 0; tmp < newVNode._children.length; tmp++) {\n\t\t\t\t\t\tif (newVNode._children[tmp]) {\n\t\t\t\t\t\t\tnewVNode._children[tmp]._parent = newVNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\tnewVNode._children = isTopLevelFragment\n\t\t\t\t? tmp.props.children\n\t\t\t\t: Array.isArray(tmp)\n\t\t\t\t? tmp\n\t\t\t\t: [tmp];\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type === 'svg' || isSvg;\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild != null &&\n\t\t\t\t((newVNode.type === null\n\t\t\t\t\t? child.nodeType === 3\n\t\t\t\t\t: child.localName === newVNode.type) ||\n\t\t\t\t\tdom == child)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (newVNode.type === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = isSvg\n\t\t\t? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type)\n\t\t\t: document.createElement(\n\t\t\t\t\tnewVNode.type,\n\t\t\t\t\tnewProps.is && { is: newProps.is }\n\t\t\t  );\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (newVNode.type === null) {\n\t\tif (oldProps !== newProps && dom.data != newProps) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\tif (excessDomChildren != null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\tif (oldProps === EMPTY_OBJ) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html != oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tnewVNode._children = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnewVNode.type === 'foreignObject' ? false : isSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tEMPTY_OBJ,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\ti !== dom.value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type != 'function') {\n\t\tskipRemove = (dom = vnode._dom) != null;\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom != null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\nconst IS_HYDRATE = EMPTY_OBJ;\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we\n\t// are in hydration mode or not by passing `IS_HYDRATE` instead of a\n\t// DOM element.\n\tlet isHydrating = replaceNode === IS_HYDRATE;\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\t((isHydrating ? parentDom : replaceNode || parentDom)._children = vnode),\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode && !isHydrating\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: EMPTY_ARR.slice.call(parentDom.childNodes),\n\t\tcommitQueue,\n\t\treplaceNode || EMPTY_OBJ,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, IS_HYDRATE);\n}\n","import { assign } from './util';\nimport { EMPTY_ARR } from './constants';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./index').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props) {\n\tprops = assign(assign({}, vnode.props), props);\n\tif (arguments.length > 2) props.children = EMPTY_ARR.slice.call(arguments, 2);\n\tlet normalizedProps = {};\n\tfor (const i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tprops.key || vnode.key,\n\t\tprops.ref || vnode.ref,\n\t\tnull\n\t);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tconst ctx = {};\n\n\tconst context = {\n\t\t_id: '__cC' + i++,\n\t\t_defaultValue: defaultValue,\n\t\tConsumer(props, context) {\n\t\t\treturn props.children(context);\n\t\t},\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tconst subs = [];\n\t\t\t\tthis.getChildContext = () => {\n\t\t\t\t\tctx[context._id] = this;\n\t\t\t\t\treturn ctx;\n\t\t\t\t};\n\n\t\t\t\tthis.shouldComponentUpdate = _props => {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc.context = _props.value;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\told && old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\tcontext.Consumer.contextType = context;\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\tcontext.Provider._contextRef = context;\n\n\treturn context;\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { enqueueRender } from '../component';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, hasCaught;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (\n\t\t\t\t\tcomponent.constructor &&\n\t\t\t\t\tcomponent.constructor.getDerivedStateFromError != null\n\t\t\t\t) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.setState(\n\t\t\t\t\t\tcomponent.constructor.getDerivedStateFromError(error)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\n\t\t\t\tif (hasCaught)\n\t\t\t\t\treturn enqueueRender((component._pendingError = component));\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/* global __webpack_public_path__ */\n\nimport * as Preact from 'preact';\nconst { h, render, hydrate } = Preact;\n\nconst interopDefault = m => (m && m.default ? m.default : m);\n\nconst normalizeURL = url => (url[url.length - 1] === '/' ? url : url + '/');\n\nif (process.env.NODE_ENV === 'development') {\n\t// enable preact devtools\n\trequire('preact/debug');\n\tif (process.env.RHL) {\n\t\t// enable hot loader\n\t\tconst hotLoader = interopDefault(require('react-hot-loader'));\n\t\thotLoader.preact(interopDefault(require('preact')));\n\t}\n\t// only add a debug sw if webpack service worker is not requested.\n\tif (process.env.ADD_SW === undefined && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw-debug.js');\n\t} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(\n\t\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t\t);\n\t}\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t// eslint-disable-next-line no-undef\n\tnavigator.serviceWorker.register(\n\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t);\n}\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root =\n\t\tdocument.getElementById('preact_root') || document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\tlet preRenderData = {};\n\t\tconst inlineDataElement = document.querySelector(\n\t\t\t'[type=\"__PREACT_CLI_DATA__\"]'\n\t\t);\n\t\tif (inlineDataElement) {\n\t\t\tpreRenderData =\n\t\t\t\tJSON.parse(inlineDataElement.innerHTML).preRenderData || preRenderData;\n\t\t}\n\t\t/* An object named CLI_DATA is passed as a prop,\n\t\t * this keeps us future proof if in case we decide,\n\t\t * to send other data like at some point in time.\n\t\t */\n\t\tconst CLI_DATA = { preRenderData };\n\t\tconst currentURL = preRenderData.url ? normalizeURL(preRenderData.url) : '';\n\t\tconst canHydrate =\n\t\t\tprocess.env.PRERENDER &&\n\t\t\tprocess.env.NODE_ENV === 'production' &&\n\t\t\thydrate &&\n\t\t\tcurrentURL === location.pathname;\n\t\tconst doRender = canHydrate ? hydrate : render;\n\t\troot = doRender(h(app, { CLI_DATA }), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.Link = exports.Match = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _preact = require('preact');\n\nvar _preactRouter = require('preact-router');\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Match = exports.Match = function (_Component) {\n\t_inherits(Match, _Component);\n\n\tfunction Match() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Match);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.update = function (url) {\n\t\t\t_this.nextUrl = url;\n\t\t\t_this.setState({});\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tMatch.prototype.componentDidMount = function componentDidMount() {\n\t\t_preactRouter.subscribers.push(this.update);\n\t};\n\n\tMatch.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\t_preactRouter.subscribers.splice(_preactRouter.subscribers.indexOf(this.update) >>> 0, 1);\n\t};\n\n\tMatch.prototype.render = function render(props) {\n\t\tvar url = this.nextUrl || (0, _preactRouter.getCurrentUrl)(),\n\t\t    path = url.replace(/\\?.+$/, '');\n\t\tthis.nextUrl = null;\n\t\treturn props.children({\n\t\t\turl: url,\n\t\t\tpath: path,\n\t\t\tmatches: (0, _preactRouter.exec)(path, props.path, {}) !== false\n\t\t});\n\t};\n\n\treturn Match;\n}(_preact.Component);\n\nvar Link = function Link(_ref) {\n\tvar activeClassName = _ref.activeClassName,\n\t    path = _ref.path,\n\t    props = _objectWithoutProperties(_ref, ['activeClassName', 'path']);\n\n\treturn (0, _preact.h)(\n\t\tMatch,\n\t\t{ path: path || props.href },\n\t\tfunction (_ref2) {\n\t\t\tvar matches = _ref2.matches;\n\t\t\treturn (0, _preact.h)(_preactRouter.Link, _extends({}, props, { 'class': [props.class || props.className, matches && activeClassName].filter(Boolean).join(' ') }));\n\t\t}\n\t);\n};\n\nexports.Link = Link;\nexports.default = Match;\n\nMatch.Link = Link;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reset\":\"_303JYRLJg4VzbyGKJU51qa\",\"select\":\"KS4wxcDiOEwvDlDi2TXjU\",\"submit\":\"A1h7SpH0K5N1vl8CA2vHT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line\":\"PofOX2RH2Z_90zB7Zo0XQ\",\"label\":\"_2uY5e-AnVt-UVEcoPX346e\",\"value\":\"gEea82ovAsLZdQhY36cFT\"};"],"sourceRoot":""}